"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(i,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?i(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,o)}r((l=l.apply(e,a||[])).next())})},__generator=this&&this.__generator||function(n,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};define("TileLibrary/index",["require","exports","TileLibrary/tileLibraryTile","TileLibrary/tileLibraryContent","TileLibrary/tileLibraryConverter","TileLibrary/tileLibraryEnumerationHelper"],function(e,t,i,n,o,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getTextGroupByInstance=t.getShapeGroup=t.getShapeCard=t.getShapeGroupByInstance=t.getShadowGroupByInstance=t.getOutlineGroupByInstance=t.getIconGroupByInstance=t.getGlowGroupByInstance=t.getFillCustomGroupByInstance=t.getFillGroupByInstance=t.getCustomizableShadowGroupByInstance=t.getCustomizableRectangleShapeGroup=t.getCustomizableRectangleShapeCard=t.getCustomizableGlowGroupByInstance=t.enumerateIconProperties=t.enumerateTextProperties=t.enumerateShapePropertiesInstance=t.enumerateShapeProperties=t.enumerateShadowProperties=t.enumerateOutlineProperties=t.enumerateGlowProperties=t.enumerateFillProperties=t.isDetailedInstance=t.getSettingFontProps=t.getSettingColorProps=t.getSettingProps=t.getInstanceSelector=t.getInstanceId=t.getConversionContext=t.getContainerName=t.convertIcon=t.convertText=t.convertTileGlowCustom=t.convertTileGlow=t.convertTileShadowCustom=t.convertTileShadow=t.convertTileShapeWithoutInstances=t.convertTileShape=t.convertTileShapeCustomRectangle=t.convertTileOutline=t.convertTileFillCustom=t.convertTileFill=t.convertTileSettingWithInstances=t.TileLibraryContent=t.Tile=void 0,Object.defineProperty(t,"Tile",{enumerable:!0,get:function(){return i.Tile}}),Object.defineProperty(t,"TileLibraryContent",{enumerable:!0,get:function(){return n.TileLibraryContent}}),Object.defineProperty(t,"convertTileSettingWithInstances",{enumerable:!0,get:function(){return o.convertTileSettingWithInstances}}),Object.defineProperty(t,"convertTileFill",{enumerable:!0,get:function(){return o.convertTileFill}}),Object.defineProperty(t,"convertTileFillCustom",{enumerable:!0,get:function(){return o.convertTileFillCustom}}),Object.defineProperty(t,"convertTileOutline",{enumerable:!0,get:function(){return o.convertTileOutline}}),Object.defineProperty(t,"convertTileShapeCustomRectangle",{enumerable:!0,get:function(){return o.convertTileShapeCustomRectangle}}),Object.defineProperty(t,"convertTileShape",{enumerable:!0,get:function(){return o.convertTileShape}}),Object.defineProperty(t,"convertTileShapeWithoutInstances",{enumerable:!0,get:function(){return o.convertTileShapeWithoutInstances}}),Object.defineProperty(t,"convertTileShadow",{enumerable:!0,get:function(){return o.convertTileShadow}}),Object.defineProperty(t,"convertTileShadowCustom",{enumerable:!0,get:function(){return o.convertTileShadowCustom}}),Object.defineProperty(t,"convertTileGlow",{enumerable:!0,get:function(){return o.convertTileGlow}}),Object.defineProperty(t,"convertTileGlowCustom",{enumerable:!0,get:function(){return o.convertTileGlowCustom}}),Object.defineProperty(t,"convertText",{enumerable:!0,get:function(){return o.convertText}}),Object.defineProperty(t,"convertIcon",{enumerable:!0,get:function(){return o.convertIcon}}),Object.defineProperty(t,"getContainerName",{enumerable:!0,get:function(){return o.getContainerName}}),Object.defineProperty(t,"getConversionContext",{enumerable:!0,get:function(){return o.getConversionContext}}),Object.defineProperty(t,"getInstanceId",{enumerable:!0,get:function(){return o.getInstanceId}}),Object.defineProperty(t,"getInstanceSelector",{enumerable:!0,get:function(){return o.getInstanceSelector}}),Object.defineProperty(t,"getSettingProps",{enumerable:!0,get:function(){return o.getSettingProps}}),Object.defineProperty(t,"getSettingColorProps",{enumerable:!0,get:function(){return o.getSettingColorProps}}),Object.defineProperty(t,"getSettingFontProps",{enumerable:!0,get:function(){return o.getSettingFontProps}}),Object.defineProperty(t,"isDetailedInstance",{enumerable:!0,get:function(){return o.isDetailedInstance}}),Object.defineProperty(t,"enumerateFillProperties",{enumerable:!0,get:function(){return r.enumerateFillProperties}}),Object.defineProperty(t,"enumerateGlowProperties",{enumerable:!0,get:function(){return r.enumerateGlowProperties}}),Object.defineProperty(t,"enumerateOutlineProperties",{enumerable:!0,get:function(){return r.enumerateOutlineProperties}}),Object.defineProperty(t,"enumerateShadowProperties",{enumerable:!0,get:function(){return r.enumerateShadowProperties}}),Object.defineProperty(t,"enumerateShapeProperties",{enumerable:!0,get:function(){return r.enumerateShapeProperties}}),Object.defineProperty(t,"enumerateShapePropertiesInstance",{enumerable:!0,get:function(){return r.enumerateShapePropertiesInstance}}),Object.defineProperty(t,"enumerateTextProperties",{enumerable:!0,get:function(){return r.enumerateTextProperties}}),Object.defineProperty(t,"enumerateIconProperties",{enumerable:!0,get:function(){return r.enumerateIconProperties}}),Object.defineProperty(t,"getCustomizableGlowGroupByInstance",{enumerable:!0,get:function(){return r.getCustomizableGlowGroupByInstance}}),Object.defineProperty(t,"getCustomizableRectangleShapeCard",{enumerable:!0,get:function(){return r.getCustomizableRectangleShapeCard}}),Object.defineProperty(t,"getCustomizableRectangleShapeGroup",{enumerable:!0,get:function(){return r.getCustomizableRectangleShapeGroup}}),Object.defineProperty(t,"getCustomizableShadowGroupByInstance",{enumerable:!0,get:function(){return r.getCustomizableShadowGroupByInstance}}),Object.defineProperty(t,"getFillGroupByInstance",{enumerable:!0,get:function(){return r.getFillGroupByInstance}}),Object.defineProperty(t,"getFillCustomGroupByInstance",{enumerable:!0,get:function(){return r.getFillCustomGroupByInstance}}),Object.defineProperty(t,"getGlowGroupByInstance",{enumerable:!0,get:function(){return r.getGlowGroupByInstance}}),Object.defineProperty(t,"getIconGroupByInstance",{enumerable:!0,get:function(){return r.getIconGroupByInstance}}),Object.defineProperty(t,"getOutlineGroupByInstance",{enumerable:!0,get:function(){return r.getOutlineGroupByInstance}}),Object.defineProperty(t,"getShadowGroupByInstance",{enumerable:!0,get:function(){return r.getShadowGroupByInstance}}),Object.defineProperty(t,"getShapeGroupByInstance",{enumerable:!0,get:function(){return r.getShapeGroupByInstance}}),Object.defineProperty(t,"getShapeCard",{enumerable:!0,get:function(){return r.getShapeCard}}),Object.defineProperty(t,"getShapeGroup",{enumerable:!0,get:function(){return r.getShapeGroup}}),Object.defineProperty(t,"getTextGroupByInstance",{enumerable:!0,get:function(){return r.getTextGroupByInstance}})}),define("TileLibrary/tileLibraryContent",["require","exports"],function(D,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TileLibraryContent=void 0;var t=powerbi.visuals,r=t.ActionButtonType,i=jsCommon.CssConstants.createClassAndSelector,a=t.FontProperties,n=t.horizontalAlignment,s=t.iconPlacement,l=jsCommon.WordBreaker,u=powerbi.TextMeasurementService,o=i("contentOuterContainer"),c=i("contentTable"),h=i("contentTableCell"),p=i("contentContainer"),d=i("content"),g=i("text"),A=i("ui-role-button-text"),m=i("icon"),f=i("iconImageGroup"),b=i("iconPathGroup"),H=i("selected");function y(){}function S(e,t,i){e.selectAll(o.selector).data(t).join(function(e){var t=i;return(e=e.append("xhtml:div").classed(o.class,!0).styles({"pointer-events":"none",position:"absolute",height:"100%",width:"100%",overflow:"hidden"})).append("xhtml:div").classed(c.class,!0).styles({height:"100%",width:"100%",display:"table","table-layout":"fixed"}).append("xhtml:div").classed(h.class,!0).style("display","table-cell").append("xhtml:div").classed(p.class,!0).styles({position:"relative",display:"flex","align-items":"center",fill:"none","pointer-events":"none","word-break":"break-word"}),w(e,t),e},function(e){return w(e,i)})}function w(e,r){return e.each(function(e){var t=d3.select(this),o=e.main;t.styles({left:"".concat(o.props.dimensions.left,"px"),top:"".concat(o.props.dimensions.top,"px"),width:"".concat(o.props.dimensions.width,"px"),height:"".concat(o.props.dimensions.height,"px"),transform:"rotate(".concat(o.props.rotation,"deg)")});var t=t.select(h.selector).styles({"vertical-align":o.props.verticalAlignment}).select(p.selector).styles({"justify-content":o.props.horizontalAlignment===n.center?"center":null,padding:"".concat(o.props.topMargin,"px ").concat(o.props.rightMargin,"px ").concat(o.props.bottomMargin,"px ").concat(o.props.leftMargin,"px"),"flex-direction":function(e){if(!e)return"row";switch(e.placement){case s.left:return"row-reverse";case s.right:return"row";case s.above:return"column-reverse";case s.below:return"column";case s.custom:return"row"}e.placement}(e.follower?e.follower.props:null),float:o.props.horizontalAlignment===n.center?null:o.props.horizontalAlignment}),e=_.reduce(e,function(e,t){switch(t.type){case"text":e.textContents.push(t);break;case"icon":e.iconContents.push(t);break;default:t.type}return e},{textContents:[],iconContents:[]}),i=e.textContents,e=e.iconContents;t.selectAll(g.selector).data(i,function(e){return e.props.text}).join(function(e){var t=r,i=o.props.dimensions.width-(o.props.leftMargin+o.props.rightMargin),n=o.props.dimensions.height-(o.props.topMargin+o.props.bottomMargin);return C(e=e.append("div").classed(d.class,!0).classed(g.class,!0).classed(A.class,!0).styles({width:"100%"}),t,i,n),e},function(e){return C(e,r,o.props.dimensions.width-(o.props.leftMargin+o.props.rightMargin),o.props.dimensions.height-(o.props.topMargin+o.props.bottomMargin))}),t.selectAll(m.selector).data(e,function(e){return e.props.shapeType}).join(function(e){return v(e=e.append("svg").classed(d.class,!0).classed(m.class,!0)),e},v),t.selectAll(d.selector).sort(function(e,t){return"text"===e.type?-1:"text"===t.type?1:0})}),e}function C(e,t,n,o){return e.attr("style",null),e.styles(function(e){var t={fontFamily:e.props.fontProperties.family,fontSize:"".concat(e.props.fontProperties.size.px,"px"),fontStyle:e.props.fontProperties.style,fontVariant:e.props.fontProperties.variant,fontWeight:e.props.fontProperties.weight,textDecoration:e.props.fontProperties.textDecoration,whiteSpace:e.props.fontProperties.whiteSpace},i=u.estimateSvgTextHeight(t),i=Math.trunc(o/i),t=l.splitByWidth(e.props.text,t,u.measureSvgTextWidth,n,i||1,null,!0);return __assign(__assign({},a.toHTMLStyle(e.props.fontProperties)),{display:"-webkit-box","-webkit-line-clamp":t.length,"-webkit-box-orient":"vertical",overflow:"hidden"})}).style("text-align",function(e){return e.props.horizontalAlignment}).classed(H.class,t).text(function(e){return e.props.text}),e}function v(e){return e.each(function(e){var t,i,n=d3.select(this),e=e.props,o=(t=e).iconSize||(i=t.dimensions.width-t.leftMargin-t.rightMargin,o=t.dimensions.height-t.topMargin-t.bottomMargin,i=Math.max(Math.min(i,o),0),t.placement===s.custom?i:i/2);n.attrs({width:o,height:o,viewBox:function(e){switch(e){case r.leftArrow:return T.viewBox;case r.rightArrow:return x.viewBox;case r.back:return M.viewBox;case r.reset:return O.viewBox;case r.information:return W.viewBox;case r.help:return R.viewBox;case r.qna:return L.viewBox;case r.insights:return z.viewBox;case r.bookmarks:return I.viewBox;case r.blank:return null;case r.custom:return"0 0 1 1";case r.applyAllSlicers:return j.viewBox;case r.clearAllSlicers:return V.viewBox}}(e.shapeType)}),n.selectAll(f.selector).data(e.shapeType===r.custom?[e]:[]).join(function(e){return e=e,t=jsCommon.Utility.generateGuid(),(e=e.append("g").classed(f.class,!0)).append("rect").attrs({width:1,height:1,fill:"url(#".concat(t,")")}),e.append("pattern").attrs({id:t,width:1,height:1,patternUnits:"userSpaceOnUse"}).append("image").attrs({x:0,y:0,width:1,height:1}),P(e),e;var t},P),n.selectAll(b.selector).data(e.shapeType!==r.custom?[e]:[]).join(function(e){return B(e=e.append("g").classed(b.class,!0)),e},B)}),e}function P(e){return e.each(function(e){d3.select(this).selectAll("image").attrs({href:e.iconImage&&e.iconImage.url,preserveAspectRatio:function(e){switch(e){case"Fill":return"xMidYMid slice";case"Fit":return"none";default:return"xMidYMid"}}(e.iconImage&&e.iconImage.scaling)})}),e}function B(e){return e.each(function(e){var t=d3.select(this);if(e.shapeType===r.custom)return t;var i=function(e){switch(e){case r.leftArrow:return T.path;case r.rightArrow:return x.path;case r.back:return M.path;case r.reset:return O.path;case r.information:return W.path;case r.help:return R.path;case r.qna:return L.path;case r.insights:return z.path;case r.bookmarks:return I.path;case r.blank:return;case r.applyAllSlicers:return j.path;case r.clearAllSlicers:return V.path}}(e.shapeType);t.html(i),t.selectAll("*").styles({"vector-effect":"non-scaling-stroke","stroke-width":"".concat(e.lineWeight,"px"),stroke:e.lineColor,"stroke-opacity":1-e.lineTransparency/100})}),e}y.renderText=function(e,t,i){S(e,t.show?[{main:{type:"text",props:t}}]:[],i=void 0===i?!1:i)},y.renderTextIcon=function(e,t,i){var n={type:"text",props:t},o={type:"icon",props:i},t=t.show||i.show?t.show&&!i.show?[{main:n}]:i.show&&!t.show?[{main:o}]:i.placement===s.custom?[{main:n},{main:o}]:[{main:n,follower:o}]:[];S(e,t,!1)},e.TileLibraryContent=y;var T={viewBox:"0 0 32 32",path:'<line x1="30" y1="15" x2="2" y2="15"></line><polyline points="15,2 2,15 15,30"></polyline>'},x={viewBox:"0 0 32 32",path:'<line x1="2" y1="15" x2="30" y2="15"></line><polyline points="17,2 30,15 17,30"></polyline>'},L={viewBox:"0 0 24 22.75",path:'<polygon points="22.5 15.5 10.5 15.5 5.5 20.55 5.43 15.5 1.5 15.5 1.5 1.5 22.5 1.5 22.5 15.5"></polygon>'},R={viewBox:"0 0 32 32",path:'<circle cx="16" cy="16" r="13.5"></circle><path d="M12.12,13.72a3.75,3.75,0,0,1,3.63-3.78,3.63,3.63,0,0,1,3.64,3.63c0,1.48-.5,    1.93-2.35,3.63A4.48,4.48,0,0,0,15.8,19a3.45,3.45,0,0,0-.11.4A8.59,8.59,0,0,0,15.5,21"></path><rect x="15.51" y="23.54" width="0.01" height="0.01"></rect>'},z={viewBox:"0 0 23.5 32",path:'<path d="M11.76,29.5c-1.95,0-4-.65-4-1.95v-5s0-1.09,0-1.45c-.08-1-1.52-2.48-2.59-3.89a12,12,0,0,1-1.62-2.6,9.45,    9.45,0,0,1-.62-3.63c0-4.66,4.23-8.44,8.89-8.44s8.89,3.78,8.89,8.44a9.41,9.41,0,0,1-.58,3.55,12.34,12.34,0,0,1-1.67,2.68c-1.06,1.4-2.47,2.86-2.55,3.89,0,.36-.07,    1.45-.07,1.45v5C15.78,28.85,13.71,29.5,11.76,29.5Z"></path><line x1="7.75" y1="23.92" x2="15.8" y2="23.92"></line>'},M={viewBox:"0 0 32 32",path:'<circle cx="16" cy="16" r="13.5"></circle><line x1="25" y1="16" x2="8" y2="16"></line><polyline points="16,8 8,16 16,24"></polyline>'},I={viewBox:"0 0 22.59 32",path:'<polygon points="20.04 29.25 11.21 25.43 2.37 29.25 2.37 2.5 20.04 2.5 20.04 29.25"></polygon>'},W={viewBox:"0 0 32 32",path:'<circle cx="16" cy="16" r="13.5"></circle><rect x="16" y="10.24" width="0.01" height="0.01"></rect><line x1="16" y1="13.1" x2="16"     y2="22.9"></line>'},O={viewBox:"0 0 28.3 32",path:'<line x1="17.2" y1="9.9" x2="2.5" y2="9.9"></line><polyline points="10.2,2.3 2.5,9.9 10.2,17.5"></polyline><g><defs><rect id="SVGID_1_"     x="16.1" y="0" width="18" height="32"></rect></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible;"></use></clipPath><path d="M13.1,9.9h4c4.8,0,8.7,    3.8,8.7,9.4s-3.7,9.9-8.3,10.2h-2.4"></path></g>'},j={viewBox:"0 0 20 20",path:'<path d="M12.002 19.0039H0.996094V0.996094H19.0039V9.00391H17.998V5H2.00195V17.998H12.002V19.0039ZM2.00195 4.00391H17.998V2.00195H2.00195V4.00391Z" />     <path d="M7.99805 7.00195V10.9961H4.00391V7.00195H7.99805ZM7.00195 7.99805H5V10H7.00195V7.99805ZM7.99805 12.002V15.9961H4.00391V12.002H7.99805ZM7.00195 12.998H5V15H7.00195V12.998Z"/>     <path d="M20 10V12.5L17.002 15V20H12.998V15L10 12.5V10H20ZM19.0039 10.9961H10.9961V12.0312L14.0039 14.5312V19.0039H15.9961V14.5312L19.0039 12.0312V10.9961Z"/>'},V={viewBox:"0 0 20 20",path:'<path d="M1.44531 12.5781L5.05859 9.0625L10.9863 14.7363L7.30469 18.3789L1.44531 12.5781Z"/>     <path d="M19.0723 7.25586L7.24609 19.0039L0.800781 12.6758L12.8125 0.664062L19.0723 7.25586ZM12.8125 1.8457L5.5957     9.07227L10.9375 14.1895L17.8906 7.25586L12.8125 1.8457ZM10.3516 14.7754L5 9.6582L1.98242 12.6758L7.23633 17.8809L10.3516 14.7754Z"/>'}}),define("TileLibrary/tileLibraryConverter",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSettingFontProps=t.getSettingColorProps=t.getSettingProps=t.getContainerName=t.convertIcon=t.convertText=t.convertTileGlowCustom=t.convertTileGlow=t.convertTileShadowCustom=t.convertTileShadow=t.convertTileShapeCustomRectangle=t.convertTileShape=t.convertTileShapeWithoutInstances=t.convertTileOutline=t.convertTileFillCustom=t.convertTileFill=t.getConversionContext=t.convertTileSettingWithInstances=t.getInstanceSelector=t.getInstanceId=t.isDetailedInstance=void 0;var i=powerbi.visuals,c=powerbi.DataViewObjects,h=i.FontProperties,n=i.navigatorInstanceId,o=i.tileContentObjectPropertyNames,p=i.tileContentProps,l=i.tileLibraryProps;function a(e){return void 0!==e.id}function d(e,i){return e.reduce(function(e,t){return a(t)?e[t.id]=i(t,e.default):e[t]="default"!==t?i(t,e.default):e[t],e},{default:i("default")})}function g(e,t,i,n){var o;return a(t)?{column:o=_.find(e.metadata.columns,function(e){return e.queryName===t.id}),objects:null==o?void 0:o.objects,instanceDefaults:i[t.id],instanceOverrides:null==n?void 0:n[t.id]}:{objectInstance:t,objects:e.metadata.objects,instanceDefaults:i[t],instanceOverrides:null==n?void 0:n[t]}}t.isDetailedInstance=a,t.getInstanceId=function(e){return a(e)?e.id:e},t.getInstanceSelector=function(e){return a(e)?e.selector:{id:e}},t.convertTileSettingWithInstances=d,t.getConversionContext=g,t.convertTileFill=function(o,r,e,a,s){return void 0===s&&(s=u),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.fill.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})};var u={props:{fillTransparency:l.fill.transparency,fillImage:l.fill.image},colorProps:{fillColor:l.fill.fillColor}};t.convertTileFillCustom=function(o,r,e,a,s){return void 0===s&&(s=m),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.fillCustom.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})};var m={props:{fillTransparency:l.fillCustom.transparency,fillImage:l.fillCustom.image,fillImageTransparency:l.fillCustom.imageTransparency,fillImageSplitTransparency:l.fillCustom.imageSplitTransparency},colorProps:{fillColor:l.fillCustom.fillColor}};t.convertTileOutline=function(o,r,e,a,s){return void 0===s&&(s=f),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.outline.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})};var f={props:{outlineWeight:l.outline.weight,outlineTransparency:l.outline.transparency},colorProps:{outlineColor:l.outline.lineColor}};t.convertTileShapeWithoutInstances=function(e,t,i,n){return void 0===i&&(i=y),__assign(__assign(__assign({},t),B(e,i.props)),n)},t.convertTileShape=function(o,e,r,a,s){return void 0===a&&(a=y),d(e,function(e,t){var e=g(o,e,r),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign({},r.default),B(i,a.props,n,t,e)),s)})},t.convertTileShapeCustomRectangle=function(o,e,r,a,s){return void 0===a&&(a=b),d(e,function(e,t){var e=g(o,e,r),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign({},r.default),B(i,a.props,n,t,e)),s)})};var b={props:{tileShape:l.shapeCustomRectangle.tileShape,shapeRounding:l.shape.roundEdge,arrowheadSize:l.shape.arrowheadSize,arrowStemWidth:l.shape.arrowStemWidth,chevronAngle:l.shape.chevronAngle,isocelesTriangleTipPosition:l.shape.isocelesTriangleTipPosition,parallelogramSlant:l.shape.parallelogramSlant,trapezoidSlant:l.shape.trapezoidSlant,hexagonSlant:l.shape.hexagonSlant,octagonSnipSize:l.shape.octagonSnipSize,speechBubbleHeight:l.shape.speechBubbleHeight,speechBubbleTailPosition:l.shape.speechBubbleTailPosition,speechBubbleTailAngle:l.shape.speechBubbleTailAngle,rectangleRoundedCurve:l.shapeCustomRectangle.rectangleRoundedCurve,rectangleRoundedCurveCustomStyle:l.shapeCustomRectangle.rectangleRoundedCurveCustomStyle,rectangleRoundedCurveLeftTop:l.shapeCustomRectangle.rectangleRoundedCurveLeftTop,rectangleRoundedCurveRightTop:l.shapeCustomRectangle.rectangleRoundedCurveRightTop,rectangleRoundedCurveLeftBottom:l.shapeCustomRectangle.rectangleRoundedCurveLeftBottom,rectangleRoundedCurveRightBottom:l.shapeCustomRectangle.rectangleRoundedCurveRightBottom,tabCutCornerSnipSizeTopRight:l.shape.tabCutCornerSnipSizeTopRight,tabCutCornerSnipSizeTop:l.shapeCustomRectangle.tabCutCornerSnipSizeTop,tabCutCornerSnipSizeCustomStyle:l.shapeCustomRectangle.tabCutCornerSnipSizeCustomStyle,tabCutCornerSnipSizeLeftBottom:l.shapeCustomRectangle.tabCutCornerSnipSizeLeftBottom,tabCutCornerSnipSizeLeftTop:l.shapeCustomRectangle.tabCutCornerSnipSizeLeftTop,tabCutCornerSnipSizeRightBottom:l.shapeCustomRectangle.tabCutCornerSnipSizeRightBottom,tabCutCornerSnipSizeRightTop:l.shapeCustomRectangle.tabCutCornerSnipSizeRightTop,tabCutCornerSnipSizeBottom:l.shapeCustomRectangle.tabCutCornerSnipSizeBottom,tabRoundCornerTopRight:l.shape.tabRoundCornerTopRight,tabRoundCornerTop:l.shape.tabRoundCornerTop,tabRoundCornerBottom:l.shape.tabRoundCornerBottom}},y={props:{tileShape:l.shape.tileShape,shapeRounding:l.shape.roundEdge,arrowheadSize:l.shape.arrowheadSize,arrowStemWidth:l.shape.arrowStemWidth,chevronAngle:l.shape.chevronAngle,isocelesTriangleTipPosition:l.shape.isocelesTriangleTipPosition,parallelogramSlant:l.shape.parallelogramSlant,trapezoidSlant:l.shape.trapezoidSlant,hexagonSlant:l.shape.hexagonSlant,octagonSnipSize:l.shape.octagonSnipSize,speechBubbleHeight:l.shape.speechBubbleHeight,speechBubbleTailPosition:l.shape.speechBubbleTailPosition,speechBubbleTailAngle:l.shape.speechBubbleTailAngle,rectangleRoundedCurve:l.shape.rectangleRoundedCurve,rectangleRoundedCurveCustomStyle:l.shapeCustomRectangle.rectangleRoundedCurveCustomStyle,rectangleRoundedCurveLeftTop:l.shapeCustomRectangle.rectangleRoundedCurveLeftTop,rectangleRoundedCurveRightTop:l.shapeCustomRectangle.rectangleRoundedCurveRightTop,rectangleRoundedCurveLeftBottom:l.shapeCustomRectangle.rectangleRoundedCurveLeftBottom,rectangleRoundedCurveRightBottom:l.shapeCustomRectangle.rectangleRoundedCurveRightBottom,tabCutCornerSnipSizeTopRight:l.shape.tabCutCornerSnipSizeTopRight,tabCutCornerSnipSizeTop:l.shape.tabCutCornerSnipSizeTop,tabCutCornerSnipSizeCustomStyle:l.shapeCustomRectangle.tabCutCornerSnipSizeCustomStyle,tabCutCornerSnipSizeLeftBottom:l.shapeCustomRectangle.tabCutCornerSnipSizeLeftBottom,tabCutCornerSnipSizeLeftTop:l.shapeCustomRectangle.tabCutCornerSnipSizeLeftTop,tabCutCornerSnipSizeRightBottom:l.shapeCustomRectangle.tabCutCornerSnipSizeRightBottom,tabCutCornerSnipSizeRightTop:l.shapeCustomRectangle.tabCutCornerSnipSizeRightTop,tabCutCornerSnipSizeBottom:l.shape.tabCutCornerSnipSizeBottom,tabRoundCornerTopRight:l.shape.tabRoundCornerTopRight,tabRoundCornerTop:l.shape.tabRoundCornerTop,tabRoundCornerBottom:l.shape.tabRoundCornerBottom}};t.convertTileShadow=function(o,r,e,a,s){return void 0===s&&(s=S),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.shadow.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})},t.convertTileShadowCustom=function(o,r,e,a,s){return void 0===s&&(s=w),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.shadowCustom.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})};var S={props:{shadowTransparency:l.shadow.transparency,shadowBlur:l.shadow.shadowBlur,shadowPositionPreset:l.shadow.shadowPositionPreset,shadowAngle:l.shadow.angle,shadowDistance:l.shadow.shadowDistance},colorProps:{shadowColor:l.shadow.color}},w={props:{shadowTransparency:l.shadowCustom.transparency,shadowBlur:l.shadowCustom.shadowBlur,shadowPositionPreset:l.shadowCustom.shadowPositionPreset,shadowAngle:l.shadowCustom.angle,shadowDistance:l.shadowCustom.shadowDistance,position:l.shadowCustom.position,shadowSpread:l.shadowCustom.shadowSpread},colorProps:{shadowColor:l.shadowCustom.color}};t.convertTileGlow=function(o,r,e,a,s){return void 0===s&&(s=C),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.glow.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})},t.convertTileGlowCustom=function(o,r,e,a,s){return void 0===s&&(s=v),d(e,function(e,t){var e=g(o,e,a),i=e.objects,n=e.instanceDefaults,e=e.objectInstance;return __assign(__assign(__assign(__assign({},a.default),B(i,s.props,n,t,e)),T(i,r,s.colorProps,n,t,e)),{show:c.getValue(o.metadata.objects,l.glowCustom.show,null!=(i=null==n?void 0:n.show)?i:a.default.show)})})};var C={props:{glowTransparency:l.glow.transparency,glowBlur:l.glow.shadowBlur},colorProps:{glowColor:l.glow.color}},v={props:{glowTransparency:l.glowCustom.transparency,glowBlur:l.glowCustom.shadowBlur,glowPositionPreset:l.glowCustom.glowPositionPreset,glowAngle:l.glowCustom.angle,glowDistance:l.glowCustom.glowDistance,position:l.glowCustom.position,glowSpread:l.glowCustom.glowSpread},colorProps:{glowColor:l.glowCustom.color}};t.convertText=function(r,a,e,s,l,u){return void 0===l&&(l=P),d(e,function(e,t){var e=g(r,e,s,u),i=e.objects,n=e.instanceDefaults,o=e.instanceOverrides,e=e.objectInstance;return __assign(__assign(__assign(__assign(__assign(__assign({},s.default),B(i,l.props,n,t,e)),x(i,a,l.fontProps,n,t,e)),{show:c.getValue(r.metadata.objects,p.text.show,null!=(i=null==n?void 0:n.show)?i:s.default.show)}),null==u?void 0:u.default),o)})};var P={props:{text:p.text.text,verticalAlignment:p.text.verticalAlignment,horizontalAlignment:p.text.horizontalAlignment,rightMargin:p.text.rightMargin,leftMargin:p.text.leftMargin,topMargin:p.text.topMargin,bottomMargin:p.text.bottomMargin,rotation:p.text.angle},fontProps:{fontProperties:{objectName:"text",propertyNames:{color:o.fontColor,family:o.fontFamily,italic:o.italic,bold:o.bold,underline:o.underline,size:o.fontSize}}}};t.convertIcon=function(i,n,e,o,r){return void 0===r&&(r=s),d(e,function(e,t){if(!a(e))return __assign(__assign(__assign(__assign({},o.default),B(i,r.props,o[e],t,e)),T(i,n,r.colorProps,o[e],t,e)),{show:c.getValue(i,p.icon.show,o.default.show)})})};var s={props:{shapeType:p.icon.shapeType,iconImage:p.icon.image,placement:p.icon.placement,lineTransparency:p.icon.lineTransparency,lineWeight:p.icon.lineWeight,verticalAlignment:p.icon.verticalAlignment,horizontalAlignment:p.icon.horizontalAlignment,rightMargin:p.icon.rightMargin,leftMargin:p.icon.leftMargin,topMargin:p.icon.topMargin,bottomMargin:p.icon.bottomMargin,iconSize:p.icon.iconSize},colorProps:{lineColor:p.icon.lineColor}};function B(n,e,o,r,a){return _.entries(e).reduce(function(e,t){var i=t[0],t=t[1],t=c.getValue(n,t,null!=(t=null==o?void 0:o[i])?t:null==r?void 0:r[i],a);return null!=t&&(e[i]=t),e},{})}function T(n,o,e,r,a,s){return _.entries(e).reduce(function(e,t){var i=t[0],t=t[1],t=o.getColorForProperty(n,t,void 0,s),t=null!=(t=null!=t?t:null==r?void 0:r[i])?t:null==a?void 0:a[i];return null!=t&&(e[i]=t),e},{})}function x(r,a,e,s,l,u){return _.entries(e).reduce(function(e,t){var i=t[0],t=t[1],n=(o=null==u?c.getObject(r,t.objectName):(o=c.getUserDefinedObjects(r,t.objectName),c.getObject(o,u)),h.inherit(null!=(n=null==l?void 0:l[i])?n:{},null==s?void 0:s[i])),o=h.createFromDataViewObject(o,t.propertyNames,a,void 0,n);return null!=e&&(e[i]=o),e},{})}t.getContainerName=function(e,t){switch(e){case n.default:e=t("Default");break;case n.hover:e=t("Navigator_Hover_State");break;case n.press:e=t("Navigator_Press_State");break;case n.selected:e=t("FieldListProperty_Selected")}return e},t.getSettingProps=B,t.getSettingColorProps=T,t.getSettingFontProps=x}),define("TileLibrary/tileLibraryEnumerationHelper",["require","exports","TileLibrary/tileLibraryConverter"],function(e,t,p){Object.defineProperty(t,"__esModule",{value:!0}),t.getIconGroupByInstance=t.enumerateIconProperties=t.getTextGroupByInstance=t.enumerateTextProperties=t.getCustomizableGlowGroupByInstance=t.getGlowGroupByInstance=t.enumerateGlowProperties=t.getCustomizableShadowGroupByInstance=t.getShadowGroupByInstance=t.enumerateShadowProperties=t.getCustomizableRectangleShapeCard=t.getShapeCard=t.getCustomizableRectangleShapeGroup=t.getShapeGroup=t.getShapeCustomRectangleGroupByInstance=t.getShapeGroupByInstance=t.enumerateShapeProperties=t.enumerateShapePropertiesInstance=t.getOutlineGroupByInstance=t.enumerateOutlineProperties=t.getFillCustomGroupByInstance=t.getFillGroupByInstance=t.enumerateFillProperties=void 0;var l=powerbi.visuals,d=l.ActionButtonType,u=jsCommon.CssConstants,c=l.builder,g=l.iconPlacement,h=l.shapeType.shape,m=powerbi.visuals.shapeObjectProps,s=l.shapeObjectPropertyNames,f=l.tileContentObjectNames,b=l.tileContentObjectPropertyNames,y=l.tileContentProps,S=l.tileLibraryObjectNames,w=l.tileLibraryObjectPropertyNames,C=l.tileLibraryProps,v=l.visualLocKeys,P=100,B=100,T=50,x=180,L=100,R=100,z=50,M=50,I=180,W=50,O={minValue:{type:0,value:0},maxValue:{type:1,value:999},unitSymbol:v.PixelUnitSymbol},j="default";function V(e,t,i,n,o){(r={})[w.tileShape]=t.tileShape;var r,a=r;if(-1===[h.Heart,h.Line,h.Oval,h.Pill,h.RectangleRounded].indexOf(t.tileShape)&&(a[w.shapeRounding]=t.shapeRounding),t.tileShape===h.Line&&(a[s.linecapType]=t.linecapType),i&&i.shapeFormattingFeatures)switch(t.tileShape){case h.Arrow:a[s.arrowheadSize]=t.arrowheadSize,a[s.arrowStemWidth]=t.arrowStemWidth;break;case h.ArrowChevron:a[s.chevronAngle]=t.chevronAngle;break;case h.ArrowPentagon:a[s.arrowheadSize]=t.arrowheadSize;break;case h.TriangleIsoc:a[s.isocelesTriangleTipPosition]=t.isocelesTriangleTipPosition;break;case h.Parallelogram:a[s.parallelogramSlant]=t.parallelogramSlant;break;case h.Trapezoid:a[s.trapezoidSlant]=t.trapezoidSlant;break;case h.Hexagon:a[s.hexagonSlant]=t.hexagonSlant;break;case h.Octagon:a[s.octagonSnipSize]=t.octagonSnipSize;break;case h.Speechbubble:a[s.speechBubbleHeight]=t.speechBubbleHeight,a[s.speechBubbleTailPosition]=t.speechBubbleTailPosition,a[s.speechBubbleTailAngle]=t.speechBubbleTailAngle;break;case h.RectangleRounded:a[s.rectangleRoundedCurve]=t.rectangleRoundedCurve;break;case h.TabCutCorner:a[s.tabCutCornerSnipSizeTopRight]=t.tabCutCornerSnipSizeTopRight;break;case h.TabCutTopCorners:a[s.tabCutCornerSnipSizeTop]=t.tabCutCornerSnipSizeTop,a[s.tabCutCornerSnipSizeBottom]=t.tabCutCornerSnipSizeBottom;break;case h.TabRoundCorner:a[s.tabRoundCornerTopRight]=t.tabRoundCornerTopRight;break;case h.TabRoundTopCorners:a[s.tabRoundCornerTop]=t.tabRoundCornerTop,a[s.tabRoundCornerBottom]=t.tabRoundCornerBottom}(r={})[w.shapeRounding]={unitSymbol:v.PixelUnitSymbol,numberRange:{min:0,max:P}},r[w.arrowheadSize]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:100}},r[w.arrowStemWidth]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.chevronAngle]={unitSymbol:v.DegreeLocKey,numberRange:{min:0,max:180}},r[w.isocelesTriangleTipPosition]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:100}},r[w.parallelogramSlant]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:100}},r[w.trapezoidSlant]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:100}},r[w.hexagonSlant]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:100}},r[w.octagonSnipSize]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.speechBubbleHeight]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.speechBubbleTailAngle]={unitSymbol:v.DegreeLocKey,numberRange:{min:0,max:180}},r[w.rectangleRoundedCurve]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabCutCornerSnipSizeTopRight]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabRoundCornerTop]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabCutCornerSnipSizeBottom]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabRoundCornerTopRight]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabRoundCornerTop]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}},r[w.tabRoundCornerTop]={unitSymbol:v.PercentLocKey,numberRange:{min:0,max:50}};i=r;o&&(i[w.tileShape]={filterValues:_.filter(_.values(h),function(e){return!o[e]})}),e.pushInstance({objectName:S.shape,selector:n,properties:a,validValues:i})}function D(e,t,i,n,o,r){return a(e[(0,p.getInstanceId)(n)],t,i,(0,p.getInstanceSelector)(n),o,r)}function A(e,t,i,n,o,r){return H(e[(0,p.getInstanceId)(n)],t,i,(0,p.getInstanceSelector)(n),o,r)}function a(e,t,i,n,o,r){function a(e){return t.getLocalizedString(e)}var s=[h.Heart,h.Line,h.Oval,h.Pill,h.RectangleRounded],l=C.shape,u=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(o,"shape"),a);if(null!=i&&i.onObject&&u.withDisplayName("Visual_Shape"),r?(o=_.filter(_.values(h),function(e){return!r[e]}),u.addSimpleSlice("shape",new c.DropdownBuilder({descriptor:__assign(__assign({},l.tileShape),{selector:n}),value:e.tileShape,filterValues:o}).build(),function(e){return e.withCustomDisplayName("Visual_Shape")})):u.addSimpleSlice("shape",new c.DropdownBuilder({descriptor:__assign(__assign({},l.tileShape),{selector:n}),value:e.tileShape}).build(),function(e){return e.withCustomDisplayName("Visual_Shape")}),-1===s.indexOf(e.tileShape)&&u.addSimpleSlice("roundEdge",new c.SliderBuilder({descriptor:__assign(__assign({},l.roundEdge),{selector:n}),value:e.shapeRounding,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:P},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withCustomDisplayName("VisualContainer_Border_RoundedCorners")}),i&&i.shapeFormattingFeatures)switch(e.tileShape){case h.Line:u.addSimpleSlice("cap type",new c.DropdownBuilder({descriptor:__assign(__assign({},m.shape.linecapType),{selector:n}),value:e.linecapType}).build());break;case h.Arrow:u.addSimpleSlice("arrowheadSize",new c.SliderBuilder({descriptor:__assign(__assign({},l.arrowheadSize),{selector:n}),value:e.arrowheadSize,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:B},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ArrowheadSize")}).addSimpleSlice("arrowStemWidth",new c.SliderBuilder({descriptor:__assign(__assign({},l.arrowStemWidth),{selector:n}),value:e.arrowStemWidth,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:T},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ArrowStemWidth")});break;case h.ArrowChevron:u.addSimpleSlice("chevronAngle",new c.SliderBuilder({descriptor:__assign(__assign({},l.chevronAngle),{selector:n}),value:e.chevronAngle,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:x},unitSymbol:v.DegreeLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Angle")});break;case h.ArrowPentagon:u.addSimpleSlice("arrowheadSize",new c.SliderBuilder({descriptor:__assign(__assign({},l.arrowheadSize),{selector:n}),value:e.arrowheadSize,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:B},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ArrowheadSize")});break;case h.TriangleIsoc:u.addSimpleSlice("isocelesTriangleTipPosition",new c.SliderBuilder({descriptor:__assign(__assign({},l.isocelesTriangleTipPosition),{selector:n}),value:e.isocelesTriangleTipPosition,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:L},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TriangleTipPosition")});break;case h.Parallelogram:u.addSimpleSlice("parallelogramSlant",new c.SliderBuilder({descriptor:__assign(__assign({},l.parallelogramSlant),{selector:n}),value:e.parallelogramSlant,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:R},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_Slant")});break;case h.Trapezoid:u.addSimpleSlice("trapezoidSlant",new c.SliderBuilder({descriptor:__assign(__assign({},l.trapezoidSlant),{selector:n}),value:e.trapezoidSlant,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:R},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_Slant")});break;case h.Hexagon:u.addSimpleSlice("hexagonSlant",new c.SliderBuilder({descriptor:__assign(__assign({},l.hexagonSlant),{selector:n}),value:e.hexagonSlant,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:R},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_Slant")});break;case h.Octagon:u.addSimpleSlice("octagonSnipSize",new c.SliderBuilder({descriptor:__assign(__assign({},l.octagonSnipSize),{selector:n}),value:e.octagonSnipSize,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:z},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_OctagonSnipSize")});break;case h.Speechbubble:u.addSimpleSlice("speechBubbleHeight",new c.SliderBuilder({descriptor:__assign(__assign({},l.speechBubbleHeight),{selector:n}),value:e.speechBubbleHeight,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:M},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ChatBubbleHeight")}).addSimpleSlice("speechBubbleTailPosition",new c.DropdownBuilder({descriptor:__assign(__assign({},l.speechBubbleTailPosition),{selector:n}),value:e.speechBubbleTailPosition}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ChatTailPosition")}).addSimpleSlice("speechBubbleTailAngle",new c.SliderBuilder({descriptor:__assign(__assign({},l.speechBubbleTailAngle),{selector:n}),value:e.speechBubbleTailAngle,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:I},unitSymbol:v.DegreeLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_ChatTailAngle")});break;case h.RectangleRounded:u.addSimpleSlice("rectangleRoundedCurve",new c.SliderBuilder({descriptor:__assign(__assign({},l.rectangleRoundedCurve),{selector:n}),value:e.rectangleRoundedCurve,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_RectangleRoundedCurve")});break;case h.TabCutCorner:u.addSimpleSlice("tabCutCornerSnipSizeTopRight",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabCutCornerSnipSizeTopRight),{selector:n}),value:e.tabCutCornerSnipSizeTopRight,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabSnipSizeTopRight")});break;case h.TabCutTopCorners:u.addSimpleSlice("tabCutCornerSnipSizeTop",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabCutCornerSnipSizeTop),{selector:n}),value:e.tabCutCornerSnipSizeTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabSnipSizeTop")}).addSimpleSlice("tabCutCornerSnipSizeBottom",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabCutCornerSnipSizeBottom),{selector:n}),value:e.tabCutCornerSnipSizeBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabSnipSizeBottom")});break;case h.TabRoundCorner:u.addSimpleSlice("tabRoundCornerTopRight",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabRoundCornerTopRight),{selector:n}),value:e.tabRoundCornerTopRight,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabRoundingTopRight")});break;case h.TabRoundTopCorners:u.addSimpleSlice("tabRoundCornerTop",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabRoundCornerTop),{selector:n}),value:e.tabRoundCornerTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabRoundingTop")}).addSimpleSlice("tabRoundCornerBottom",new c.SliderBuilder({descriptor:__assign(__assign({},l.tabRoundCornerBottom),{selector:n}),value:e.tabRoundCornerBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabRoundingBottom")})}return u.build()}function H(e,t,i,n,o,r){function a(e){return t.getLocalizedString(e)}var s=C.shapeCustomRectangle,l=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(o,"shape"),a);if(null!=i&&i.onObject&&l.withDisplayName("Visual_Shape"),r?(o=_.filter(_.values(h),function(e){return!r[e]}),l.addSimpleSlice("shape",new c.DropdownBuilder({descriptor:__assign(__assign({},s.tileShape),{selector:n}),value:e.tileShape,filterValues:o}).build(),function(e){return e.withCustomDisplayName("Visual_Shape")})):l.addSimpleSlice("shape",new c.DropdownBuilder({descriptor:__assign(__assign({},s.tileShape),{selector:n}),value:e.tileShape}).build(),function(e){return e.withCustomDisplayName("Visual_Shape")}),i&&i.shapeFormattingFeatures)switch(e.tileShape){case h.RectangleRounded:e.rectangleRoundedCurveCustomStyle||l.addSimpleSlice("rectangleRoundedCurve",new c.SliderBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurve),{selector:n}),value:e.rectangleRoundedCurve,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_RectangleRoundedCurve")}),e.rectangleRoundedCurveCustomStyle&&l.addSimpleSlice("rectangleRoundedCurveLeftTop",new c.SliderBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurveLeftTop),{selector:n}),value:e.rectangleRoundedCurveLeftTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("rectangleRoundedCurveRightTop",new c.SliderBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurveRightTop),{selector:n}),value:e.rectangleRoundedCurveRightTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("rectangleRoundedCurveLeftBottom",new c.SliderBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurveLeftBottom),{selector:n}),value:e.rectangleRoundedCurveLeftBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("rectangleRoundedCurveRightBottom",new c.SliderBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurveRightBottom),{selector:n}),value:e.rectangleRoundedCurveRightBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()),l.addSimpleSlice("rectangleRoundedCurveCustomStyle",new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},s.rectangleRoundedCurveCustomStyle),{selector:n}),value:e.rectangleRoundedCurveCustomStyle}).build());break;case h.TabCutTopCorners:e.tabCutCornerSnipSizeCustomStyle||l.addSimpleSlice("tabCutCornerSnipSizeTop",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeTop),{selector:n}),value:e.tabCutCornerSnipSizeTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabSnipSizeTop")}).addSimpleSlice("tabCutCornerSnipSizeBottom",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeBottom),{selector:n}),value:e.tabCutCornerSnipSizeBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Shape_TabSnipSizeBottom")}),e.tabCutCornerSnipSizeCustomStyle&&l.addSimpleSlice("tabCutCornerSnipSizeLeftTop",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeLeftTop),{selector:n}),value:e.tabCutCornerSnipSizeLeftTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("tabCutCornerSnipSizeRightTop",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeRightTop),{selector:n}),value:e.tabCutCornerSnipSizeRightTop,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("tabCutCornerSnipSizeLeftBottom",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeLeftBottom),{selector:n}),value:e.tabCutCornerSnipSizeLeftBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()).addSimpleSlice("rectangleRoundedCurveRightBottom",new c.SliderBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeRightBottom),{selector:n}),value:e.tabCutCornerSnipSizeRightBottom,localize:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:W},unitSymbol:v.PercentLocKey}}).build()),l.addSimpleSlice("tabCutCornerSnipSizeCustomStyle",new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},s.tabCutCornerSnipSizeCustomStyle),{selector:n}),value:e.tabCutCornerSnipSizeCustomStyle}).build())}return l.build()}t.enumerateFillProperties=function(e,t,i,n){var o;if(0!==i.length){e.pushInstance({objectName:S.fill,selector:null,properties:{show:t.default.show}});for(var r=0,a=i;r<a.length;r++){var s=a[r],l=(0,p.getInstanceId)(s),l=(1!==i.length&&e.pushContainer({displayName:n(l)}),t[l]),l=((o={})[w.fillColor]=l.fillColor,o[w.fillTransparency]=l.fillTransparency,o[w.fillImage]=l.fillImage,o);e.pushInstance({objectName:S.fill,selector:(0,p.getInstanceSelector)(s),properties:l,propertyInstanceKind:((o={})[w.fillColor]=3,o)}),1!==i.length&&e.popContainer()}}},t.getFillGroupByInstance=function(e,t,i,n,o){function r(e){return i.getLocalizedString(e)}var a=C.fill,s=(0,p.getInstanceId)(n),s=t[s],n=(0,p.getInstanceSelector)(n);return(o=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(o,"fill"),r)).withDisplayName("Visual_Fill").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},a.show),{selector:null}),value:t.default.show}).build()}).addSimpleSlice("color",new c.ColorPickerBuilder({descriptor:__assign(__assign({},a.fillColor),{selector:n,instanceKind:3}),value:{value:s.fillColor}}).build(),function(e){return e.withCustomDisplayName("Visual_Border_Color")}),e&&o.addSimpleSlice("image",new c.ImageUploadBuilder({descriptor:__assign(__assign({},a.image),{selector:n}),value:s.fillImage}).build()),o.addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},a.transparency),{selector:n}),value:s.fillTransparency,localize:r}).build()),o.build()},t.getFillCustomGroupByInstance=function(e,t,i,n,o){function r(e){return i.getLocalizedString(e)}var a=C.fillCustom,s=(0,p.getInstanceId)(n),l=t[s],s=(0,p.getInstanceSelector)(n);return(n=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(o,"fill"),r)).withDisplayName("Visual_Fill").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},a.show),{selector:null}),value:t.default.show}).build()}).addSimpleSlice("color",new c.ColorPickerBuilder({descriptor:__assign(__assign({},a.fillColor),{selector:s,instanceKind:3}),value:{value:l.fillColor}}).build(),function(e){return e.withCustomDisplayName("Visual_Border_Color")}).addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},a.transparency),{selector:s}),value:l.fillTransparency,localize:r}).build()),e&&(n.addSimpleSlice("image",new c.ImageUploadBuilder({descriptor:__assign(__assign({},a.image),{selector:s}),value:l.fillImage}).build()),n.addSimpleSlice("imageTransparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},a.imageTransparency),{selector:s}),value:l.fillImageTransparency,localize:r}).build(),function(e){return e.withDisabled(void 0===l.fillImage||_.isEmpty(l.fillImage.name)&&_.isEmpty(l.fillImage.url))})),n.build()},t.enumerateOutlineProperties=function(e,t,i,n){var o;if(0!==i.length){e.pushInstance({objectName:S.outline,selector:null,properties:{show:t.default.show}});for(var r=0,a=i;r<a.length;r++){var s=a[r],l=(0,p.getInstanceId)(s),l=(1!==i.length&&e.pushContainer({displayName:n(l)}),t[l]),l=((o={})[w.outlineColor]=l.outlineColor,o[w.outlineWeight]=l.outlineWeight,o[w.outlineTransparency]=l.outlineTransparency,o);e.pushInstance({objectName:S.outline,selector:(0,p.getInstanceSelector)(s),properties:l,propertyInstanceKind:((o={})[w.outlineColor]=3,o)}),1!==i.length&&e.popContainer()}}},t.getOutlineGroupByInstance=function(e,t,i,n,o){function r(e){return t.getLocalizedString(e)}var a=C.outline,s=(0,p.getInstanceId)(i),l=e[s],e=(0,p.getInstanceSelector)(i);return(i=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"outline"),r)).withDisplayName("Visual_Border").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},a.show),{selector:null}),value:l.show}).build()}).addSimpleSlice("color",new c.ColorPickerBuilder({descriptor:__assign(__assign({},a.lineColor),{selector:e,instanceKind:3}),value:{value:l.outlineColor}}).build(),function(e){return e.withCustomDisplayName("Visual_Border_Color")}).addSimpleSlice("width",new c.NumUpDownBuilder({descriptor:__assign(__assign({},a.weight),{selector:e}),value:l.outlineWeight,options:{minValue:{type:0,value:0},maxValue:{type:1,value:50},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withCustomDisplayName("Visual_General_Properties_Width").withDisabled(!!o&&s!==j)}).addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},a.transparency),{selector:e}),value:l.outlineTransparency,localize:r}).build(),function(e){return e.withCustomDisplayName("Transparency")}),i.build()},t.enumerateShapePropertiesInstance=V,t.enumerateShapeProperties=function(e,t,i,n,o,r){for(var a=0,s=i;a<s.length;a++){var l=s[a],u=(0,p.getInstanceId)(l),u=(1!==i.length&&e.pushContainer({displayName:n(u)}),t[u]);V(e,u,o,(0,p.getInstanceSelector)(l),r),1!==i.length&&e.popContainer()}},t.getShapeGroupByInstance=D,t.getShapeCustomRectangleGroupByInstance=A,t.getShapeGroup=a,t.getCustomizableRectangleShapeGroup=H,t.getShapeCard=function(e,t,i,n,o){var r=l.navigatorProps.shape,a=new c.FormattingCardUidBuilder("shape"),r=new c.FormattingCardBuilder(a,"Visual_Shape",[r.tileShape,r.roundEdge,m.shape.linecapType,r.arrowheadSize,r.arrowStemWidth,r.chevronAngle,r.isocelesTriangleTipPosition,r.parallelogramSlant,r.trapezoidSlant,r.hexagonSlant,r.octagonSnipSize,r.speechBubbleHeight,r.speechBubbleTailPosition,r.speechBubbleTailAngle,r.rectangleRoundedCurve,r.tabCutCornerSnipSizeTopRight,r.tabCutCornerSnipSizeTop,r.tabCutCornerSnipSizeBottom,r.tabRoundCornerTopRight,r.tabRoundCornerTop,r.tabRoundCornerBottom],function(e){return t.getLocalizedString(e)}),s=[],e=D(e,t,i,n,a,o);return s.push(e),r.withGroups(s),r.build()},t.getCustomizableRectangleShapeCard=function(e,t,i,n,o){var r=l.cardVisualProps.shapeCustomRectangle,a=new c.FormattingCardUidBuilder("shape"),r=new c.FormattingCardBuilder(a,"Visual_Shape",[r.tileShape,m.shape.linecapType,r.rectangleRoundedCurve,r.rectangleRoundedCurveCustomStyle,r.rectangleRoundedCurveLeftTop,r.rectangleRoundedCurveRightTop,r.rectangleRoundedCurveLeftBottom,r.rectangleRoundedCurveRightBottom,r.tabCutCornerSnipSizeCustomStyle,r.tabCutCornerSnipSizeLeftBottom,r.tabCutCornerSnipSizeTop,r.tabCutCornerSnipSizeBottom,r.tabCutCornerSnipSizeLeftTop,r.tabCutCornerSnipSizeRightBottom,r.tabCutCornerSnipSizeRightTop],function(e){return t.getLocalizedString(e)}),s=[],e=A(e,t,i,n,a,o);return s.push(e),r.withGroups(s),r.build()},t.enumerateShadowProperties=function(e,t,i,n){if(0!==i.length){e.pushInstance({objectName:S.shadow,selector:null,properties:{show:t.default.show}});for(var o=0,r=i;o<r.length;o++){var a,s=r[o],l=(0,p.getInstanceId)(s),l=(1!==i.length&&e.pushContainer({displayName:n(l)}),t[l]);(a={})[w.shadowColor]=l.shadowColor,a[w.shadowTransparency]=l.shadowTransparency,a[w.shadowBlur]=l.shadowBlur,a[w.shadowPositionPreset]=l.shadowPositionPreset;"custom"===l.shadowPositionPreset&&(a[w.shadowAngle]=l.shadowAngle,a[w.shadowDistance]=l.shadowDistance),e.pushInstance({objectName:S.shadow,selector:(0,p.getInstanceSelector)(s),properties:a,propertyInstanceKind:((l={})[w.shadowColor]=3,l)}),1!==i.length&&e.popContainer()}}},t.getShadowGroupByInstance=function(e,t,i,n){function o(e){return t.getLocalizedString(e)}var r=C.shadow,a=(0,p.getInstanceId)(i),s=e[a],l=(0,p.getInstanceSelector)(i);return(a=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"shadow"),o)).withDisplayName("Visual_DropShadow").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.show),{selector:null}),value:e.default.show}).build()}).addSimpleSlice("color",function(){var e={value:s.shadowColor};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},r.color),{selector:l,instanceKind:3}),value:e}).build()}).addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.transparency),{selector:l}),value:s.shadowTransparency,localize:o}).build()).addSimpleSlice("blur",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowBlur),{selector:l}),value:s.shadowBlur,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build()).addSimpleSlice("position",new c.DropdownBuilder({descriptor:__assign(__assign({},r.shadowPositionPreset),{selector:l}),value:s.shadowPositionPreset}).build(),function(e){return e.withCustomDisplayName("Visual_Position")}),"custom"===s.shadowPositionPreset&&a.addSimpleSlice("angle",new c.SliderBuilder({descriptor:__assign(__assign({},r.angle),{selector:l}),value:s.shadowAngle,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:v.DegreeLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Angle")}).addSimpleSlice("shadowDistance",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowDistance),{selector:l}),value:s.shadowDistance,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withCustomDisplayName("Distance")}),a.build()},t.getCustomizableShadowGroupByInstance=function(e,t,i,n){function o(e){return t.getLocalizedString(e)}var r=C.shadowCustom,a=(0,p.getInstanceId)(i),s=e[a],l=(0,p.getInstanceSelector)(i);return(i=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"shadow"),o)).withDisplayName("Visual_DropShadow").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.show),{selector:null}),value:e.default.show}).build()}),i.addSimpleSlice("color",function(){var e={value:s.shadowColor};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},r.color),{selector:l,instanceKind:3}),value:e}).build()}),i.addSimpleSlice("offset",new c.DropdownBuilder({descriptor:__assign(__assign({},r.position),{selector:l}),value:s.position}).build(),function(e){return e.withCustomDisplayName("Offset").withDisabled(a!==j)}),i.addSimpleSlice("position",new c.DropdownBuilder({descriptor:__assign(__assign({},r.shadowPositionPreset),{selector:l}),value:s.shadowPositionPreset}).build(),function(e){return e.withCustomDisplayName("Visual_Position").withDisabled(a!==j)}),"custom"===s.shadowPositionPreset&&(i.addSimpleSlice("size",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowSpread),{selector:l}),value:s.shadowSpread,options:{minValue:{type:0,value:0},maxValue:{type:1,value:10},unitSymbol:v.PixelUnitSymbol},localize:o}).build(),function(e){return e.withDisabled(a!==j)}),i.addSimpleSlice("blur",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowBlur),{selector:l}),value:s.shadowBlur,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withDisabled(a!==j)}),i.addSimpleSlice("angle",new c.SliderBuilder({descriptor:__assign(__assign({},r.angle),{selector:l}),value:s.shadowAngle,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:v.DegreeLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Angle").withDisabled(a!==j)}),i.addSimpleSlice("shadowDistance",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowDistance),{selector:l}),value:s.shadowDistance,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withCustomDisplayName("Distance").withDisabled(a!==j)}),i.addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.transparency),{selector:l}),value:s.shadowTransparency,localize:o}).build(),function(e){return e.withDisabled(a!==j)})),i.build()},t.enumerateGlowProperties=function(e,t,i,n){var o;if(0!==i.length){e.pushInstance({objectName:S.glow,selector:null,properties:{show:t.default.show}});for(var r=0,a=i;r<a.length;r++){var s=a[r],l=(0,p.getInstanceId)(s),l=(1!==i.length&&e.pushContainer({displayName:n(l)}),t[l]),l=((o={})[w.glowColor]=l.glowColor,o[w.glowTransparency]=l.glowTransparency,o[w.shadowBlur]=l.glowBlur,o);e.pushInstance({objectName:S.glow,selector:(0,p.getInstanceSelector)(s),properties:l,propertyInstanceKind:((o={})[w.glowColor]=3,o)}),1!==i.length&&e.popContainer()}}},t.getGlowGroupByInstance=function(e,t,i,n){function o(e){return t.getLocalizedString(e)}var r=C.glow,a=(0,p.getInstanceId)(i),s=e[a],l=(0,p.getInstanceSelector)(i);return(a=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"glow"),o)).withDisplayName("Visual_Glow").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.show),{selector:null}),value:e.default.show}).build()}).addSimpleSlice("color",function(){var e={value:s.glowColor};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},r.color),{selector:l,instanceKind:3}),value:e}).build()}).addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.transparency),{selector:l}),value:s.glowTransparency,localize:o}).build()).addSimpleSlice("blur",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowBlur),{selector:l}),value:s.glowBlur,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build()),a.build()},t.getCustomizableGlowGroupByInstance=function(e,t,i,n){function o(e){return t.getLocalizedString(e)}var r=C.glowCustom,a=(0,p.getInstanceId)(i),s=e[a],l=(0,p.getInstanceSelector)(i);return(i=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"glow"),o)).withDisplayName("Visual_Glow").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.show),{selector:null}),value:e.default.show}).build()}),i.addSimpleSlice("color",function(){var e={value:s.glowColor};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},r.color),{selector:l,instanceKind:3}),value:e}).build()}),i.addSimpleSlice("offset",new c.DropdownBuilder({descriptor:__assign(__assign({},r.position),{selector:l}),value:s.position}).build(),function(e){return e.withCustomDisplayName("Offset").withDisabled(a!==j)}),i.addSimpleSlice("position",new c.DropdownBuilder({descriptor:__assign(__assign({},r.glowPositionPreset),{selector:l}),value:s.glowPositionPreset}).build(),function(e){return e.withCustomDisplayName("Visual_Position").withDisabled(a!==j)}),"custom"===s.glowPositionPreset&&(i.addSimpleSlice("size",new c.SliderBuilder({descriptor:__assign(__assign({},r.glowSpread),{selector:l}),value:s.glowSpread,options:{minValue:{type:0,value:0},maxValue:{type:1,value:10},unitSymbol:v.PixelUnitSymbol},localize:o}).build(),function(e){return e.withDisabled(a!==j)}),i.addSimpleSlice("blur",new c.SliderBuilder({descriptor:__assign(__assign({},r.shadowBlur),{selector:l}),value:s.glowBlur,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withDisabled(a!==j)}),i.addSimpleSlice("angle",new c.SliderBuilder({descriptor:__assign(__assign({},r.angle),{selector:l}),value:s.glowAngle,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:v.DegreeLocKey}}).build(),function(e){return e.withCustomDisplayName("Visual_Angle").withDisabled(a!==j)}),i.addSimpleSlice("shadowDistance",new c.SliderBuilder({descriptor:__assign(__assign({},r.glowDistance),{selector:l}),value:s.glowDistance,localize:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:v.PixelUnitSymbol}}).build(),function(e){return e.withCustomDisplayName("Distance").withDisabled(a!==j)}),i.addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.transparency),{selector:l}),value:s.glowTransparency,localize:o}).build(),function(e){return e.withDisabled(a!==j)})),i.build()},t.enumerateTextProperties=function(e,t,i,n){var o;if(0!==i.length){var r={unitSymbol:v.PixelUnitSymbol,numberRange:{min:0,max:999}};e.pushInstance({objectName:f.text,selector:null,properties:{show:t.default.show}});for(var a=0,s=i;a<s.length;a++){var l=s[a],u=(0,p.getInstanceId)(l),u=(1!==i.length&&e.pushContainer({displayName:n(u)}),t[u]),c={},h={};void 0!==u.text&&(c[b.text]=u.text,h[b.text]=3),c=__assign(__assign({},c),((o={})[b.fontColor]=u.fontProperties.color,o[b.fontSize]=u.fontProperties.size.pt,o[b.fontFamily]=u.fontProperties.family,o[b.italic]=u.fontProperties.style,o[b.bold]=u.fontProperties.weight,o[b.underline]=u.fontProperties.textDecoration,o[b.textVerticalAlignment]=u.verticalAlignment,o[b.textHorizontalAlignment]=u.horizontalAlignment,o[b.textRightMargin]=u.rightMargin,o[b.textLeftMargin]=u.leftMargin,o[b.textTopMargin]=u.topMargin,o[b.textBottomMargin]=u.bottomMargin,o)),h=__assign(__assign({},h),((u={})[b.fontColor]=3,u)),e.pushInstance({objectName:f.text,selector:(0,p.getInstanceSelector)(l),properties:c,validValues:((o={})[b.textRightMargin]=r,o[b.textLeftMargin]=r,o[b.textTopMargin]=r,o[b.textBottomMargin]=r,o),propertyInstanceKind:h}),1!==i.length&&e.popContainer()}}},t.getTextGroupByInstance=function(e,t,i,n){var o=y.text,r=(0,p.getInstanceId)(i),a=e[r],s=(0,p.getInstanceSelector)(i);return(r=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"text"),function(e){return t.getLocalizedString(e)})).withDisplayName("Text").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:null}),value:e.default.show}).build()}),void 0!==a.text&&r.addSimpleSlice("text",new c.TextInputBuilder({descriptor:__assign(__assign({},o.text),{selector:s,instanceKind:3}),placeholder:"",value:a.text}).build(),function(e){return e.withCustomDisplayName("Text")}),r.addCompositeSlice("font","Font",(new c.FontControlBuilder).withFontFamily({descriptor:__assign(__assign({},o.fontFamily),{selector:s}),value:a.fontProperties.family}).withFontSizeProperties({descriptor:__assign(__assign({},o.fontSize),{selector:s}),value:a.fontProperties.size.pt}).withBold({descriptor:__assign(__assign({},o.bold),{selector:s}),value:a.fontProperties.weight===u.boldValue}).withItalic({descriptor:__assign(__assign({},o.italic),{selector:s}),value:a.fontProperties.style===u.italicValue}).withUnderline({descriptor:__assign(__assign({},o.underline),{selector:s}),value:a.fontProperties.textDecoration===u.underlineValue}).build()),r.addSimpleSlice("color",function(){var e={value:a.fontProperties.color};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},o.fontColor),{selector:s,instanceKind:3}),value:e}).build()}),r.addSimpleSlice("horizontalalignment",new c.AlignmentGroupBuilder({descriptor:__assign(__assign({},o.horizontalAlignment),{selector:s}),value:a.horizontalAlignment,mode:"horizontalAlignment"}).build(),function(e){return e.withCustomDisplayName("Visual_Alignment_Horizontal")}),r.addSimpleSlice("verticalalignment",new c.AlignmentGroupBuilder({descriptor:__assign(__assign({},o.verticalAlignment),{selector:s}),value:a.verticalAlignment,mode:"verticalAlignment"}).build(),function(e){return e.withCustomDisplayName("Visual_Alignment_Vertical")}),r.addCompositeSlice("padding","Visual_Padding",(new c.MarginPaddingBuilder).withLeft({descriptor:__assign(__assign({},o.leftMargin),{selector:s}),value:a.leftMargin,options:O}).withRight({descriptor:__assign(__assign({},o.rightMargin),{selector:s}),value:a.rightMargin,options:O}).withTop({descriptor:__assign(__assign({},o.topMargin),{selector:s}),value:a.topMargin,options:O}).withBottom({descriptor:__assign(__assign({},o.bottomMargin),{selector:s}),value:a.bottomMargin,options:O}).build()),r.build()},t.enumerateIconProperties=function(e,t,i,n){if(0!==i.length){var o={unitSymbol:v.WeightLocKey,numberRange:{min:0,max:50}},r={unitSymbol:v.PixelUnitSymbol,numberRange:{min:0,max:999}},a={numberRange:{min:0,max:999}};e.pushInstance({objectName:f.icon,selector:null,properties:{show:t.default.show}});for(var s=0,l=i;s<l.length;s++){var u,c=l[s],h=(0,p.getInstanceId)(c),h=(1!==i.length&&e.pushContainer({displayName:n(h)}),t[h]);(u={})[b.shapeType]=h.shapeType;h.shapeType===d.custom?u[b.iconImage]=h.iconImage:(u[b.iconColor]=h.lineColor,u[b.iconTransparency]=h.lineTransparency,u[b.iconWeight]=h.lineWeight),u[b.iconPlacement]=h.placement,h.placement===g.custom&&(u[b.iconVerticalAlignment]=h.verticalAlignment,u[b.iconHorizontalAlignment]=h.horizontalAlignment),u[b.iconLeftMargin]=h.leftMargin,u[b.iconRightMargin]=h.rightMargin,u[b.iconTopMargin]=h.topMargin,u[b.iconBottomMargin]=h.bottomMargin,u[b.iconSize]=h.iconSize,e.pushInstance({selector:(0,p.getInstanceSelector)(c),properties:u,objectName:f.icon,validValues:((h={})[b.iconWeight]=o,h[b.iconLeftMargin]=r,h[b.iconRightMargin]=r,h[b.iconTopMargin]=r,h[b.iconBottomMargin]=r,h[b.iconSize]=a,h),propertyInstanceKind:((c={})[b.iconColor]=3,c)}),1!==i.length&&e.popContainer()}}},t.getIconGroupByInstance=function(e,t,i,n,o){function r(e){return t.getLocalizedString(e)}var a=y.icon,s=(0,p.getInstanceId)(i),l=e[s],u=(0,p.getInstanceSelector)(i),i=((s=new c.FormattingGroupBuilder(new c.FormattingGroupUidBuilder(n,"icon"),r)).withDisplayName("Icon").addTopLevelToggle("show",function(){return new c.ToggleSwitchBuilder({descriptor:__assign(__assign({},a.show),{selector:null}),value:e.default.show}).build()}),d.type.members().map(function(e){return e.value}));return o.applyAllSlicersButton||(_.remove(i,function(e){return e===d.applyAllSlicers}),_.remove(i,function(e){return e===d.clearAllSlicers})),s.addSimpleSlice("icon type",new c.DropdownBuilder({descriptor:__assign(__assign({},a.shapeType),{selector:u}),value:l.shapeType,filterValues:i}).build(),function(e){return e.withCustomDisplayName("Button_Icon_Type")}),l.shapeType===d.custom?s.addSimpleSlice("image",new c.ImageUploadBuilder({descriptor:__assign(__assign({},a.image),{selector:u}),value:l.iconImage}).build()):(s.addSimpleSlice("color",function(){var e={value:l.lineColor};return new c.ColorPickerBuilder({descriptor:__assign(__assign({},a.lineColor),{selector:u,instanceKind:3}),value:e}).build()}),s.addSimpleSlice("width",new c.NumUpDownBuilder({descriptor:__assign(__assign({},a.lineWeight),{selector:u}),value:l.lineWeight,options:{minValue:{type:0,value:0},maxValue:{type:1,value:50},unitSymbol:v.PixelUnitSymbol}}).build()),s.addSimpleSlice("transparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},a.lineTransparency),{selector:u}),value:l.lineTransparency,localize:r}).build())),s.addSimpleSlice("iconplacement",new c.DropdownBuilder({descriptor:__assign(__assign({},a.placement),{selector:u}),value:l.placement}).build()),l.placement===g.custom&&(s.addSimpleSlice("horizontalalignment",new c.AlignmentGroupBuilder({descriptor:__assign(__assign({},a.horizontalAlignment),{selector:u}),value:l.horizontalAlignment,mode:"horizontalAlignment"}).build(),function(e){return e.withCustomDisplayName("Visual_Alignment_Horizontal")}),s.addSimpleSlice("verticalalignment",new c.AlignmentGroupBuilder({descriptor:__assign(__assign({},a.verticalAlignment),{selector:u}),value:l.verticalAlignment,mode:"verticalAlignment"}).build(),function(e){return e.withCustomDisplayName("Visual_Alignment_Vertical")})),s.addCompositeSlice("padding","Visual_Padding",(new c.MarginPaddingBuilder).withLeft({descriptor:__assign(__assign({},a.leftMargin),{selector:u}),value:l.leftMargin,options:O}).withRight({descriptor:__assign(__assign({},a.rightMargin),{selector:u}),value:l.rightMargin,options:O}).withTop({descriptor:__assign(__assign({},a.topMargin),{selector:u}),value:l.topMargin,options:O}).withBottom({descriptor:__assign(__assign({},a.bottomMargin),{selector:u}),value:l.bottomMargin,options:O}).build()).addSimpleSlice("iconsize",new c.NumUpDownBuilder({descriptor:__assign(__assign({},a.iconSize),{selector:u}),value:l.iconSize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:999}}}).build()),s.build()}}),define("TileLibrary/tileLibraryShapes",["require","exports"],function(D,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createShape=e.cleanDuplicates=e.Shape=e.ContentBox=e.Path=void 0;function w(e){return 0<e?1:e<0?-1:0}function A(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function H(e,t,i){var n=t.x-e.x,e=t.y-e.y,o=t.x-i.x,t=t.y-i.y;return Math.atan2(n*t-e*o,n*o+e*t)}var s=powerbi.visuals.legendPosition,u=powerbi.visuals.shapeType,t=powerbi.visuals.SpeechBubbleTailPosition,i=(Object.defineProperty(n.prototype,"pathCommands",{get:function(){return this._pathCommands},enumerable:!1,configurable:!0}),n.prototype.getCommandEndPosition=function(e){switch(e[0]){case"M":case"L":return{x:e[1],y:e[2]};case"C":return{x:e[5],y:e[6]};case"A":return{x:e[6],y:e[7]};case"Z":return null}e[0]},n.prototype.toString=function(){return this.pathCommands.map(function(e){return e.join(" ")}).join(" ")},n.prototype.getBoundingBox=function(){for(var e=this.pathCommands,t=this.getCommandEndPosition(e[0]),i={minX:t.x,maxX:t.x,minY:t.y,maxY:t.y},n=0,o=e;n<o.length;n++){var r=o[n];(r=this.getCommandEndPosition(r))&&(i.minX=Math.min(i.minX,r.x),i.maxX=Math.max(i.maxX,r.x),i.minY=Math.min(i.minY,r.y),i.maxY=Math.max(i.maxY,r.y))}return i},n.prototype.applyOperation=function(e,t){for(var i=0,n=this.pathCommands;i<n.length;i++){var o=n[i];switch(o[0]){case"Z":break;case"C":var r=e({x:o[1],y:o[2]}),r=(o[1]=r.x,o[2]=r.y,e({x:o[3],y:o[4]})),r=(o[3]=r.x,o[4]=r.y,e({x:o[5],y:o[6]}));o[5]=r.x,o[6]=r.y;break;case"A":t&&(a=e({x:o[1],y:o[2]}),o[1]=a.x,o[2]=a.y);var a,r=e({x:o[6],y:o[7]});o[6]=r.x,o[7]=r.y;break;case"M":case"L":r=e({x:o[1],y:o[2]});o[1]=r.x,o[2]=r.y}}return this},n.prototype.rotate=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var n=Math.cos(e),o=Math.sin(e);return this.applyOperation(function(e){return{x:n*(e.x-t)-o*(e.y-i)+t,y:o*(e.x-t)+n*(e.y-i)+i}})},n.prototype.translate=function(t,i){return void 0===i&&(i=0),this.applyOperation(function(e){return{x:e.x+t,y:e.y+i}})},n.prototype.scale=function(t,i){return this.applyOperation(function(e){return{x:e.x*t,y:e.y*(null!=i?i:t)}},!0)},n.prototype.transformToFit=function(e,t,i,n,o,r,a){n=n*t/2,o=o*t/2;return this.scale(t).rotate(e,n,o).translate(r/2-n,a/2-o).translate(r/2-(i.minX+i.maxX)/2,a/2-(i.minY+i.maxY)/2)},n.prototype.roundCorners=function(e){if(!(e<=0))for(var t,i,n,o,r="Z"===this.pathCommands[this.pathCommands.length-1][0],a=(r&&(t=this.getCommandEndPosition(this.pathCommands[0]),i=this.getCommandEndPosition(this.pathCommands[this.pathCommands.length-2]),t.x===i.x&&t.y===i.y||(this.pathCommands[this.pathCommands.length-1]=["L",t.x,t.y])),_.cloneDeep(r?this.pathCommands[1]:this.pathCommands[0])),s=1;s<this.pathCommands.length;s++){var l,u,c,h,p,d,g,m,f,b=this.pathCommands[s-1],y=this.pathCommands[s],S=null!=(S=this.pathCommands[s+1])?S:a;"M"!==y[0]&&"L"!==y[0]||"L"!==S[0]||(b=n+1===s?o:this.getCommandEndPosition(b),l=this.getCommandEndPosition(y),S=this.getCommandEndPosition(S),d=l.x-b.x,m=l.y-b.y,g=Math.atan(m/d),h=Math.sqrt(Math.pow(d,2)+Math.pow(m,2)),f=S.x-l.x,u=S.y-l.y,c=Math.atan(u/f),p=Math.sqrt(Math.pow(f,2)+Math.pow(u,2)),h=Math.min(e,h/2,p/2),p=Math.abs(Math.cos(g))*w(d)*h,d=Math.abs(Math.sin(g))*w(m)*h,g=Math.abs(Math.cos(c))*w(f)*h,m=Math.abs(Math.sin(c))*w(u)*h,y[1]-=p,y[2]-=d,90===(f=Math.abs(Math.floor(180*H(b,l,S)/Math.PI+.5)))||270===f?this.pathCommands.splice(s+1,0,["A",h,h,0,0,0<H(S,b,l)?0:1,l.x+g,l.y+m]):this.pathCommands.splice(s+1,0,["C",l.x-p/2,l.y-d/2,l.x+g/2,l.y+m/2,l.x+g,l.y+m]),n=++s,o=l)}return this},n);function n(e){this._pathCommands=e}e.Path=i;__extends(r,G=i),Object.defineProperty(r.prototype,"rectangleDimensions",{get:function(){return{width:A(this.points[0],this.points[1]),height:A(this.points[1],this.points[2])}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"points",{get:function(){var e=this.pathCommands;return[{x:e[0][1],y:e[0][2]},{x:e[1][1],y:e[1][2]},{x:e[2][1],y:e[2][2]},{x:e[3][1],y:e[3][2]}]},enumerable:!1,configurable:!0}),r.prototype.getLargestInscribedRectangle=function(e){void 0===e&&(e=0);var t=this.rectangleDimensions,i=t.height,t=t.width,n=[this.points[0].x-this.points[3].x,-this.points[0].y+this.points[3].y],o=Math.atan(n[0]/n[1]),n=(n[1]<0?o+=Math.PI:n[0]<0&&(o+=2*Math.PI),o-=e,this.getBoundingBox()),e=n.maxX-n.minX,r=n.maxY-n.minY,a=t<=i?t:i,s=t<=i?i:t,o=Math.abs(o-2*Math.floor((o+Math.PI)/(2*Math.PI))*Math.PI),l=(o>Math.PI/2&&(o=Math.PI-o),Math.sin(o)),o=Math.cos(o),u=l*o,c=a*o+s*l,l=a*l+s*o,o=s*u/(2*s*u+a),s=c*o,u=l*o,a=t<=i?c-2*s:l-2*u,o=t<=i?l-2*u:c-2*s;return{x:n.minX+(e-a)/2,y:n.minY+(r-o)/2,width:a,height:o}};var G,o=r;function r(e,t,i,n){return G.call(this,[["M",e,t],["M",e+i,t],["M",e+i,t+n],["M",e,t+n]])||this}e.ContentBox=o;Object.defineProperty(l.prototype,"normalizedShapePath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scaledShapePath",{get:function(){return this.normalizedShapePath.scale(this.scaledWidth,this.scaledHeight)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"transformedShapePath",{get:function(){return this.scaledShapePath.transformToFit(this.rads,this.scaleFactor,this.boundingBox,this.scaledWidth,this.scaledHeight,this.containerWidth,this.containerHeight)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"roundedTransformedShapePath",{get:function(){return this.transformedShapePath.roundCorners(this.rounding)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"shapePathString",{get:function(){return this._shapePathString||(this._shapePathString=this.roundedTransformedShapePath.toString()),this._shapePathString},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"accentBarPathString",{get:function(){return this._shapePathString||(this._shapePathString=this.scaledShapePath.toString()),this._shapePathString},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"normalizedContentBox",{get:function(){return new o(0,0,1,1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scaledContentBox",{get:function(){return this.normalizedContentBox.scale(this.scaledWidth,this.scaledHeight)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"transformedContentBox",{get:function(){return this.scaledContentBox.transformToFit(this.rads,this.scaleFactor,this.boundingBox,this.scaledWidth,this.scaledHeight,this.containerWidth,this.containerHeight)},enumerable:!1,configurable:!0}),l.prototype.getContentBoundingBox=function(e){return this.transformedContentBox.getLargestInscribedRectangle(e)},Object.defineProperty(l.prototype,"normalizedBoundingBoxPath",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scaledBoundingBoxPath",{get:function(){return this.normalizedBoundingBoxPath?this.normalizedBoundingBoxPath.scale(this.scaledWidth,this.scaledHeight):this.scaledShapePath},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scaleFactor",{get:function(){return null==this._scaleFactor&&this.setBoundingBoxProperties(),this._scaleFactor},set:function(e){this._scaleFactor=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"boundingBox",{get:function(){return null==this._boundingBox&&this.setBoundingBoxProperties(),this._boundingBox},set:function(e){this._boundingBox=e},enumerable:!1,configurable:!0}),l.prototype.setBoundingBoxProperties=function(){var e=this.scaledBoundingBoxPath,t=(e.rotate(this.rads,this.scaledWidth/2,this.scaledHeight/2),e.getBoundingBox()),i=t.maxX-t.minX,t=t.maxY-t.minY,t=(this.scaleFactor=0==t||0==i?1:Math.min(this.containerHeight/t,this.containerWidth/i),this.scaledWidth*this.scaleFactor/2),i=this.scaledHeight*this.scaleFactor/2;this.boundingBox=e.scale(this.scaleFactor).translate(this.containerWidth/2-t,this.containerHeight/2-i).getBoundingBox()};var a=l;function l(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.containerWidth=e=void 0===e?0:e,this.containerHeight=t,this.rads=i,this.rounding=n,this.scaledWidth=Math.abs(Math.cos(this.rads)*this.containerWidth)+Math.abs(Math.sin(this.rads)*this.containerHeight),this.scaledHeight=Math.abs(Math.cos(this.rads)*this.containerHeight)+Math.abs(Math.sin(this.rads)*this.containerWidth)}e.Shape=a;__extends(c,F=a),Object.defineProperty(c.prototype,"scaledShapePath",{get:function(){return new i(V([["M",0,this.normalCutout*this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,this.normalCutout*this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,this.scaledHeight/2],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight-this.normalCutout*this.scaledHeight],["L",0,this.scaledHeight-this.normalCutout*this.scaledHeight],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scaledContentBox",{get:function(){return new o(0,this.normalCutout*this.scaledHeight,this.scaledWidth-this.triangleWidth*this.normalBoxHeight,this.normalBoxHeight*this.scaledHeight)},enumerable:!1,configurable:!0});var F,N=c;function c(e,t,i,n,o,r){e=F.call(this,e,t,i,n)||this,e.normalBoxHeight=.5,t=o*Math.PI/200;return e.triangleWidth=Math.min(Math.min(e.scaledWidth/2,e.scaledHeight/2)/Math.tan(t),e.scaledWidth),e.normalCutout=.5-r/100,e.normalBoxHeight=r/50,e}__extends(h,k=a),Object.defineProperty(h.prototype,"scaledShapePath",{get:function(){return new i([["M",0,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,.5*this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",0,this.scaledHeight],["L",this.triangleWidth,.5*this.scaledHeight],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"scaledContentBox",{get:function(){return this.scaledWidth>2*this.triangleWidth?new o(this.triangleWidth,0,this.scaledWidth-2*this.triangleWidth,this.scaledHeight):new o(0,0,this.scaledWidth,this.scaledHeight)},enumerable:!1,configurable:!0});var k,K=h;function h(e,t,i,n,o){e=k.call(this,e,t,i,n)||this,t=o*Math.PI/180;return e.triangleWidth=Math.min(Math.min(e.scaledWidth/2,e.scaledHeight/2)/Math.tan(t/2),e.scaledWidth),e.scaledWidth===e.triangleWidth&&(e.scaledWidth=2*Math.tan(t/2)*e.scaledWidth),e}__extends(p,Z=a),Object.defineProperty(p.prototype,"scaledShapePath",{get:function(){return new i(V([["M",0,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,.5*this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",0,this.scaledHeight],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scaledContentBox",{get:function(){return new o(0,0,this.scaledWidth-this.triangleWidth,this.scaledHeight)},enumerable:!1,configurable:!0});var Z,U=p;function p(e,t,i,n,o){e=Z.call(this,e,t,i,n)||this,t=o*Math.PI/100;return e.triangleWidth=Math.min(Math.min(e.scaledWidth/2,e.scaledHeight/2)/Math.tan(t/2),e.scaledWidth),e}__extends(d,E=a),Object.defineProperty(d.prototype,"normalizedShapePath",{get:function(){return new i([["M",.501465,1],["L",.467285,.9812533333333333],["C",.319173125,.8687466666666667,.206055,.75972,.12793,.6541666666666667],["C",.0498046875,.5486113333333333,.0071614375,.44739599999999996,0,.35052066666666665],["L",0,.29010400000000003],["C",.00358073125,.24427066666666666,.0126953125,.20399333333333333,.02734375,.16927066666666668],["C",.0419921875,.13420133333333334,.060058625,.10486133333333333,.081543125,.08125],["C",.102701875,.057291666666666664,.12597625,.03888886666666667,.1513675,.026041666666666668],["C",.1767575,.0128472,.201823125,.0050347199999999995,.2265625,.0026041666666666665],["C",.23502625,.00190972,.24316375,.0013888866666666665,.25097625,.0010416666666666667],["C",.25878875,347222e-9,.26643875,0,.273925625,0],["C",.300293125,0,.323893125,.00277778,.34472625,.008333333333333333],["C",.365234375,.013541666666666667,.3842775,.0215278,.401855625,.03229166666666666],["C",.419108125,.042708333333333334,.435709375,.0559028,.45166,.07187466666666667],["C",.467285,.08784733333333333,.48339875,.10625,.5,.12708333333333333],["C",.51660125,.10625,.5328775,.08784733333333333,.548828125,.07187466666666667],["C",.564453125,.0559028,.581055,.042708333333333334,.5986325,.03229166666666666],["C",.615885625,.0215278,.63493125,.013541666666666667,.6557625,.008333333333333333],["C",.67626875,.00277778,.69970625,0,.726075,0],["C",.7335625,0,.7412125,347222e-9,.749025,.0010416666666666667],["C",.7565125,.0013888866666666665,.7644875,.00190972,.77295,.0026041666666666665],["C",.7976875,.0050347199999999995,.82291875,.0128472,.84863125,.026041666666666668],["C",.874025,.03888886666666667,.8974625,.057291666666666664,.91894375,.08125],["C",.94010625,.105208,.95800625,.13454866666666665,.97265625,.16927066666666668],["C",.98730625,.20399333333333333,.99641875,.24427066666666666,1,.29010400000000003],["L",1,.35052066666666665],["C",.9925125,.44843733333333335,.95003125,.5501733333333333,.87255625,.6557293333333334],["C",.79475625,.76094,.68245625,.8694466666666667,.535644375,.9812533333333333],["L",.501465,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",.1,0],["L",.9,0],["L",1,.1],["L",1,.6],["L",.5,1],["L",0,.6],["L",0,.1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"normalizedContentBox",{get:function(){return new o(.2,.12708333333333333,.6,.61875)},enumerable:!1,configurable:!0});var E,q=d;function d(e,t,i,n){return E.call(this,e,t,i,n)||this}__extends(g,Y=a),Object.defineProperty(g.prototype,"scaledShapePath",{get:function(){return new i([["M",this.triangleWidth,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,.5*this.scaledHeight],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",this.triangleWidth,this.scaledHeight],["L",0,.5*this.scaledHeight],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"scaledContentBox",{get:function(){return new o(2*this.triangleWidth/3,this.scaledHeight/6,this.scaledWidth-4*this.triangleWidth/3,2*this.scaledHeight/3)},enumerable:!1,configurable:!0});var Y,X=g;function g(e,t,i,n,o){e=Y.call(this,e,t,i,n)||this,t=(180-.9*o)*Math.PI/360;return e.triangleWidth=Math.min(Math.min(e.scaledWidth/2,e.scaledHeight/2)/Math.tan(t),e.scaledWidth/2),e}__extends(m,$=a),Object.defineProperty(m.prototype,"normalizedShapePath",{get:function(){return new i([["M",0,.5],["L",1,.5]])},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"transformedContentBox",{get:function(){return new o(0,0,this.containerWidth,this.containerHeight)},enumerable:!1,configurable:!0});var $,J=m;function m(e,t,i){return $.call(this,e,t,i)||this}__extends(f,Q=a),Object.defineProperty(f.prototype,"scaledShapePath",{get:function(){return new i(V([["M",this.triangleWidth,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,this.triangleWidth],["L",this.scaledWidth,this.scaledHeight-this.triangleWidth],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",this.triangleWidth,this.scaledHeight],["L",0,this.scaledHeight-this.triangleWidth],["L",0,this.triangleWidth],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"scaledContentBox",{get:function(){return new o(this.triangleWidth/2,this.triangleWidth/2,this.scaledWidth-this.triangleWidth,this.scaledHeight-this.triangleWidth)},enumerable:!1,configurable:!0});var Q,ee=f;function f(e,t,i,n,o){e=Q.call(this,e,t,i,n)||this,t=o/100;return e.triangleWidth=Math.min(e.scaledWidth*t,e.scaledHeight*t,e.scaledHeight,e.scaledWidth),e}__extends(b,te=a),Object.defineProperty(b.prototype,"normalizedShapePath",{get:function(){return new i([["M",.5,0],["A",.5,.5,180*this.rads/Math.PI,0,0,.5,1],["A",.5,.5,180*this.rads/Math.PI,0,0,.5,0],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"normalizedContentBox",{get:function(){var e=.5-Math.sqrt(2)/4,t=Math.sqrt(2)/2;return new o(e,e,t,t)},enumerable:!1,configurable:!0});var te,ie=b;function b(e,t,i){return te.call(this,e,t,i)||this}__extends(y,ne=a),Object.defineProperty(y.prototype,"scaledShapePath",{get:function(){return new i([["M",this.triangleWidth,0],["L",this.scaledWidth,0],["L",this.scaledWidth-this.triangleWidth,this.scaledHeight],["L",0,this.scaledHeight],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"scaledContentBox",{get:function(){return this.scaledWidth>2*this.triangleWidth?new o(this.triangleWidth,0,this.scaledWidth-2*this.triangleWidth,this.scaledHeight):new o(0,0,this.scaledWidth,this.scaledHeight)},enumerable:!1,configurable:!0});var ne,oe=y;function y(e,t,i,n,o){e=ne.call(this,e,t,i,n)||this,t=Math.PI/2-.9*o*Math.PI/180;return e.triangleWidth=Math.min(e.scaledWidth/2,e.scaledHeight/2)/Math.tan(t),e.triangleWidth>=e.scaledWidth&&(e.triangleWidth=0),e}__extends(S,re=a),Object.defineProperty(S.prototype,"normalizedShapePath",{get:function(){return new i([["M",.5,0],["L",1,this.dy],["L",1-this.dx,1],["L",this.dx,1],["L",0,this.dy],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"normalizedContentBox",{get:function(){return new o(this.dx,5*this.dy/8,1-2*this.dx,1-5*this.dy/8)},enumerable:!1,configurable:!0});var re,ae=S;function S(e,t,i,n){e=re.call(this,e,t,i,n)||this;return e.dy=.5-.125*(Math.sqrt(5)-1),e.dx=.5-.125*Math.sqrt(10-2*Math.sqrt(5)),e}__extends(C,se=a),Object.defineProperty(C.prototype,"scaledShapePath",{get:function(){return new i([["M",0,this.radius],["A",this.radius,this.radius,0,0,1,this.radius,0],["L",this.scaledWidth-this.radius,0],["A",this.radius,this.radius,0,0,1,this.scaledWidth,this.radius],["L",this.scaledWidth,this.scaledHeight-this.radius],["A",this.radius,this.radius,0,0,1,this.scaledWidth-this.radius,this.scaledHeight],["L",this.radius,this.scaledHeight],["A",this.radius,this.radius,0,0,1,0,this.scaledHeight-this.radius],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"scaledContentBox",{get:function(){var e=1-Math.sqrt(2)/2;return new o(this.radius*e,this.radius*e,this.scaledWidth-this.radius*e*2,this.scaledHeight-this.radius*e*2)},enumerable:!1,configurable:!0});var se,le=C;function C(e,t,i,n){e=se.call(this,e,t,i,n)||this;return e.radius=Math.min(e.scaledHeight,e.scaledWidth)/2,e}__extends(v,ue=a),Object.defineProperty(v.prototype,"normalizedShapePath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0});var ue,ce=v;function v(e,t,i,n){return ue.call(this,e,t,i,n)||this}__extends(P,he=a),Object.defineProperty(P.prototype,"normalizedShapePath",{get:function(){return this.accentBarPosition===s.left||this.accentBarPosition===s.top?new i([["M",0,0],["L",0,1],["L",1,1],["L",1,0],["Z"]]):this.accentBarPosition===s.right?new i([["M",1,1],["L",1-this.accentBarWidth/this.containerWidth,1],["L",1-this.accentBarWidth/this.containerWidth,0],["L",1,0],["Z"]]):this.accentBarPosition===s.bottom?new i([["M",1,1],["L",1,1-this.accentBarWidth/this.containerHeight],["L",0,1-this.accentBarWidth/this.containerHeight],["L",0,1],["Z"]]):void 0},enumerable:!1,configurable:!0});var he,pe=P;function P(e,t,i,n,o,r){var a=this;return o===s.left?e=r:o===s.top&&(t=r),(a=he.call(this,e,t,i,n)||this).accentBarPosition=o,a.accentBarWidth=r,a}__extends(B,de=a),Object.defineProperty(B.prototype,"scaledShapePath",{get:function(){return new i([["M",0,this.radius],["A",this.radius,this.radius,0,0,1,this.radius,0],["L",this.scaledWidth-this.radius,0],["A",this.radius,this.radius,0,0,1,this.scaledWidth,this.radius],["L",this.scaledWidth,this.scaledHeight-this.radius],["A",this.radius,this.radius,0,0,1,this.scaledWidth-this.radius,this.scaledHeight],["L",this.radius,this.scaledHeight],["A",this.radius,this.radius,0,0,1,0,this.scaledHeight-this.radius],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"scaledContentBox",{get:function(){var e=1-Math.sqrt(2)/2;return new o(this.radius*e,this.radius*e,this.scaledWidth-this.radius*e*2,this.scaledHeight-this.radius*e*2)},enumerable:!1,configurable:!0});var de,ge=B;function B(e,t,i,n,o){e=de.call(this,e,t,i,n)||this;return e.radius=Math.min(e.scaledHeight,e.scaledWidth)*o/100,e}__extends(T,me=a),Object.defineProperty(T.prototype,"scaledShapePath",{get:function(){return new i([["M",0,this.radiusTopLeft],["A",this.radiusTopLeft,this.radiusTopLeft,0,0,1,this.radiusTopLeft,0],["L",this.scaledWidth-this.radiusTopRight,0],["A",this.radiusTopRight,this.radiusTopRight,0,0,1,this.scaledWidth,this.radiusTopRight],["L",this.scaledWidth,this.scaledHeight-this.radiusBottomRight],["A",this.radiusBottomRight,this.radiusBottomRight,0,0,1,this.scaledWidth-this.radiusBottomRight,this.scaledHeight],["L",this.radiusBottomLeft,this.scaledHeight],["A",this.radiusBottomLeft,this.radiusBottomLeft,0,0,1,0,this.scaledHeight-this.radiusBottomLeft],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaledContentBox",{get:function(){var e=1-Math.sqrt(2)/2;return new o((this.radiusTopLeft+this.radiusTopRight)*e,(this.radiusTopLeft+this.radiusBottomLeft)*e,this.scaledWidth-(this.radiusTopLeft+this.radiusTopRight)*e*2,this.scaledHeight-(this.radiusTopLeft+this.radiusBottomLeft)*e*2)},enumerable:!1,configurable:!0});var me,fe=T;function T(e,t,i,n,o,r,a,s){e=me.call(this,e,t,i,n)||this;return e.radiusTopLeft=Math.min(e.scaledHeight,e.scaledWidth)*o/100,e.radiusTopRight=Math.min(e.scaledHeight,e.scaledWidth)*r/100,e.radiusBottomLeft=Math.min(e.scaledHeight,e.scaledWidth)*a/100,e.radiusBottomRight=Math.min(e.scaledHeight,e.scaledWidth)*s/100,e}__extends(x,be=a),Object.defineProperty(x.prototype,"normalizedShapePath",{get:function(){switch(this.tailPosition){case t.BottomLeft:return new i(V([["M",0,0],["L",1,0],["L",1,1-this.cutout],["L",.25,1-this.cutout],["L",this.tailStartPoint,1],["L",.125,1-this.cutout],["L",0,1-this.cutout],["Z"]]));case t.BottomRight:return new i(V([["M",0,0],["L",1,0],["L",1,1-this.cutout],["L",.875,1-this.cutout],["L",1-this.tailStartPoint,1],["L",.75,1-this.cutout],["L",0,1-this.cutout],["Z"]]));case t.RightDown:return new i(V([["M",0,0],["L",1-this.cutout,0],["L",1-this.cutout,.75],["L",1,1-this.tailStartPoint],["L",1-this.cutout,.875],["L",1-this.cutout,1],["L",0,1],["Z"]]));case t.RightUp:return new i(V([["M",0,0],["L",1-this.cutout,0],["L",1-this.cutout,.125],["L",1,this.tailStartPoint],["L",1-this.cutout,.25],["L",1-this.cutout,1],["L",0,1],["Z"]]));case t.TopRight:return new i(V([["M",0,this.cutout],["L",.75,this.cutout],["L",1-this.tailStartPoint,0],["L",.875,this.cutout],["L",1,this.cutout],["L",1,1],["L",0,1],["Z"]]));case t.TopLeft:return new i(V([["M",0,this.cutout],["L",.125,this.cutout],["L",this.tailStartPoint,0],["L",.25,this.cutout],["L",1,this.cutout],["L",1,1],["L",0,1],["Z"]]));case t.LeftUp:return new i(V([["M",this.cutout,0],["L",1,0],["L",1,1],["L",this.cutout,1],["L",this.cutout,.25],["L",0,this.tailStartPoint],["L",this.cutout,.125],["Z"]]));case t.LeftDown:return new i(V([["M",this.cutout,0],["L",1,0],["L",1,1],["L",this.cutout,1],["L",this.cutout,.875],["L",0,1-this.tailStartPoint],["L",this.cutout,.75],["Z"]]))}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"normalizedContentBox",{get:function(){return new o(0,0,1,1-this.cutout)},enumerable:!1,configurable:!0});var be,ye=x;function x(e,t,i,n,o,r,a){e=be.call(this,e,t,i,n)||this;return e.cutout=.1,e.cutout=o/100,e.tailStartPoint=Math.max(Math.min(.125-Math.tan((90-a)*Math.PI/180)*e.cutout,.5),0),e.tailPosition=r,e}__extends(L,Se=a),Object.defineProperty(L.prototype,"scaledShapePath",{get:function(){return new i(V([["M",0,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,this.triangleWidth],["L",this.scaledWidth,this.scaledHeight],["L",0,this.scaledHeight],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"scaledContentBox",{get:function(){return new o(0,this.triangleWidth/2,this.scaledWidth-this.triangleWidth/2,this.scaledHeight-this.triangleWidth/2)},enumerable:!1,configurable:!0});var Se,we=L;function L(e,t,i,n,o){e=Se.call(this,e,t,i,n)||this,t=o/100;return e.triangleWidth=Math.min(e.scaledWidth*t,e.scaledHeight*t),e}__extends(R,_e=a),Object.defineProperty(R.prototype,"scaledShapePath",{get:function(){return new i(V([["M",this.topTriangleWidth,0],["L",this.scaledWidth-this.topTriangleWidth,0],["L",this.scaledWidth,this.topTriangleWidth],["L",this.scaledWidth,this.scaledHeight-this.bottomTriangleWidth],["L",this.scaledWidth-this.bottomTriangleWidth,this.scaledHeight],["L",this.bottomTriangleWidth,this.scaledHeight],["L",0,this.scaledHeight-this.bottomTriangleWidth],["L",0,this.topTriangleWidth],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"scaledContentBox",{get:function(){return new o(this.topTriangleWidth/2,this.topTriangleWidth/2,this.scaledWidth-this.topTriangleWidth,this.scaledHeight-this.topTriangleWidth/2-Math.max(0,this.bottomTriangleWidth-this.topTriangleWidth/2))},enumerable:!1,configurable:!0});var _e,Ce=R;function R(e,t,i,n,o,r){e=_e.call(this,e,t,i,n)||this,t=o/100,i=r/100;return e.topTriangleWidth=Math.min(e.scaledWidth*t,e.scaledHeight*t),e.bottomTriangleWidth=Math.min(e.scaledWidth*i,e.scaledHeight*i),e}__extends(z,ve=a),Object.defineProperty(z.prototype,"scaledShapePath",{get:function(){return new i(V([["M",this.topLeftTriangleWidth,0],["L",this.scaledWidth-this.topLeftTriangleWidth,0],["L",this.scaledWidth,this.topRighttTriangleWidth],["L",this.scaledWidth,this.scaledHeight-this.bottomRightTriangleWidth],["L",this.scaledWidth-this.bottomRightTriangleWidth,this.scaledHeight],["L",this.bottomLeftTriangleWidth,this.scaledHeight],["L",0,this.scaledHeight-this.bottomLeftTriangleWidth],["L",0,this.topLeftTriangleWidth],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"scaledContentBox",{get:function(){return new o((this.topRighttTriangleWidth+this.topLeftTriangleWidth)/2,(this.topLeftTriangleWidth+this.topRighttTriangleWidth)/2,this.scaledWidth-(this.topRighttTriangleWidth+this.topLeftTriangleWidth),this.scaledHeight-(this.topLeftTriangleWidth+this.topRighttTriangleWidth)/2-Math.max(0,this.bottomLeftTriangleWidth+this.bottomRightTriangleWidth-(this.topLeftTriangleWidth+this.bottomLeftTriangleWidth)/2))},enumerable:!1,configurable:!0});var ve,Pe=z;function z(e,t,i,n,o,r,a,s){e=ve.call(this,e,t,i,n)||this,t=o/100,i=r/100,n=a/100,o=s/100;return e.topLeftTriangleWidth=Math.min(e.scaledWidth*t,e.scaledHeight*t),e.topRighttTriangleWidth=Math.min(e.scaledWidth*i,e.scaledHeight*i),e.bottomLeftTriangleWidth=Math.min(e.scaledWidth*n,e.scaledHeight*n),e.bottomRightTriangleWidth=Math.min(e.scaledWidth*o,e.scaledHeight*o),e}__extends(M,Be=a),Object.defineProperty(M.prototype,"scaledShapePath",{get:function(){return new i(V([["M",0,0],["L",this.scaledWidth-this.radius,0],["A",this.radius,this.radius,0,0,1,this.scaledWidth,this.radius],["L",this.scaledWidth,this.scaledHeight],["L",0,this.scaledHeight],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"scaledContentBox",{get:function(){var e=1-Math.sqrt(2)/2;return new o(0,this.radius*e,this.scaledWidth-this.radius*e,this.scaledHeight-this.radius*e)},enumerable:!1,configurable:!0});var Be,Te=M;function M(e,t,i,n,o){e=Be.call(this,e,t,i,n)||this;return e.radius=Math.min(e.scaledHeight,e.scaledWidth)*o/100,e}__extends(I,xe=a),Object.defineProperty(I.prototype,"scaledShapePath",{get:function(){return new i(V([["M",0,this.topRadius],["A",this.topRadius,this.topRadius,0,0,1,this.topRadius,0],["L",this.scaledWidth-this.topRadius,0],["A",this.topRadius,this.topRadius,0,0,1,this.scaledWidth,this.topRadius],["L",this.scaledWidth,this.scaledHeight-this.bottomRadius],["A",this.bottomRadius,this.bottomRadius,0,0,1,this.scaledWidth-this.bottomRadius,this.scaledHeight],["L",this.bottomRadius,this.scaledHeight],["A",this.bottomRadius,this.bottomRadius,0,0,1,0,this.scaledHeight-this.bottomRadius],["L",0,this.scaledHeight],["Z"]]))},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"normalizedBoundingBoxPath",{get:function(){return new i([["M",0,0],["L",1,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"scaledContentBox",{get:function(){var e=1-Math.sqrt(2)/2;return new o(this.topRadius*e,this.topRadius*e,this.scaledWidth-this.topRadius*e*2,this.scaledHeight-this.topRadius*e-Math.max(this.bottomRadius-this.topRadius*e,0))},enumerable:!1,configurable:!0});var xe,Le=I;function I(e,t,i,n,o,r){e=xe.call(this,e,t,i,n)||this;return e.topRadius=Math.min(e.scaledHeight,e.scaledWidth)*o/100,e.bottomRadius=Math.min(e.scaledHeight,e.scaledWidth)*r/100,e}__extends(W,Re=a),Object.defineProperty(W.prototype,"scaledShapePath",{get:function(){return new i([["M",this.triangleWidth,0],["L",this.scaledWidth-this.triangleWidth,0],["L",this.scaledWidth,this.scaledHeight],["L",0,this.scaledHeight],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"scaledContentBox",{get:function(){return new o(this.triangleWidth,0,this.scaledWidth-2*this.triangleWidth,this.scaledHeight)},enumerable:!1,configurable:!0});var Re,ze=W;function W(e,t,i,n,o){e=Re.call(this,e,t,i,n)||this,t=(90-.45*o)*Math.PI/180;return e.triangleWidth=Math.min(e.scaledWidth/4,e.scaledHeight/Math.tan(t)),e}__extends(O,Me=a),Object.defineProperty(O.prototype,"normalizedShapePath",{get:function(){return new i([["M",this.triangleTipPosition,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"normalizedContentBox",{get:function(){return new o(this.triangleTipPosition/2,.5,.5,.5)},enumerable:!1,configurable:!0});var Me,Ie=O;function O(e,t,i,n,o){e=Me.call(this,e,t,i,n)||this;return e.triangleTipPosition=o/100,e}__extends(j,We=a),Object.defineProperty(j.prototype,"normalizedShapePath",{get:function(){return new i([["M",0,0],["L",1,1],["L",0,1],["Z"]])},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"normalizedContentBox",{get:function(){return new o(0,.5,.5,.5)},enumerable:!1,configurable:!0});var We,Oe=j;function j(e,t,i,n){return We.call(this,e,t,i,n)||this}function V(e){for(var t=0;t<e.length-1;t++){var i,n,o,r,a=e[t],s=e[t+1];"M"!==a[0]&&"L"!==a[0]||"L"!==s[0]?"Z"===s[0]&&"L"===a[0]&&(i=e[0][1],o=e[0][2],n=e[t][1],r=e[t][2],i===n)&&o===r&&e.splice(t,1):(i=a[1],n=a[2],o=s[1],r=s[2],i===o&&n===r&&e.splice(t+1,1))}return e}e.cleanDuplicates=V,e.createShape=function(e,t,i,n,o){var r=i.rotation,a=i.shapeRounding,s=i.tileShape,l=r*Math.PI/180;switch(s){case u.shape.Arrow:return new N(e,t,l,a,i.arrowheadSize,i.arrowStemWidth);case u.shape.ArrowChevron:return new K(e,t,l,a,i.chevronAngle);case u.shape.ArrowPentagon:return new U(e,t,l,a,i.arrowheadSize);case u.shape.Heart:return new q(e,t,l,a);case u.shape.Hexagon:return new X(e,t,l,a,i.hexagonSlant);case u.shape.Line:return new J(e,t,l);case u.shape.Octagon:return new ee(e,t,l,a,i.octagonSnipSize);case u.shape.Oval:return new ie(e,t,l);case u.shape.Parallelogram:return new oe(e,t,l,a,i.parallelogramSlant);case u.shape.Pentagon:return new ae(e,t,l,a);case u.shape.Pill:return new le(e,t,l,a);case u.shape.Rectangle:return new ce(e,t,l,a);case u.shape.RectangleRounded:return i.rectangleRoundedCurveCustomStyle?new fe(e,t,l,a,i.rectangleRoundedCurveLeftTop,i.rectangleRoundedCurveRightTop,i.rectangleRoundedCurveLeftBottom,i.rectangleRoundedCurveRightBottom):new ge(e,t,l,a,i.rectangleRoundedCurve);case u.shape.Speechbubble:return new ye(e,t,l,a,i.speechBubbleHeight,i.speechBubbleTailPosition,i.speechBubbleTailAngle);case u.shape.TabCutCorner:return new we(e,t,l,a,i.tabCutCornerSnipSizeTopRight);case u.shape.TabCutTopCorners:return i.tabCutCornerSnipSizeCustomStyle?new Pe(e,t,l,a,i.tabCutCornerSnipSizeLeftTop,i.tabCutCornerSnipSizeRightTop,i.tabCutCornerSnipSizeLeftBottom,i.tabCutCornerSnipSizeRightBottom):new Ce(e,t,l,a,i.tabCutCornerSnipSizeTop,i.tabCutCornerSnipSizeBottom);case u.shape.TabRoundCorner:return new Te(e,t,l,a,i.tabRoundCornerTopRight);case u.shape.TabRoundTopCorners:return new Le(e,t,l,a,i.tabRoundCornerTop,i.tabRoundCornerBottom);case u.shape.Trapezoid:return new ze(e,t,l,a,i.trapezoidSlant);case u.shape.TriangleIsoc:return new Ie(e,t,l,a,i.isocelesTriangleTipPosition);case u.shape.TriangleRight:return new Oe(e,t,l,a);case u.shape.AccentBar:return new pe(e,t,l,a,n,o)}}}),define("TileLibrary/tileLibraryTile",["require","exports","TileLibrary/tileLibraryShapes","TileLibrary/tileLibraryConverter"],function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Tile=void 0;var a=powerbi.visuals,s=jsCommon.BrowserUtils,n=powerbi.Deferred,l=a.shapeType,u=a.visualBackgroundHelper;function o(e){this.supportsKeyboard=e=void 0===e?!1:e,this.state="default",this.width=0,this.height=0,this.selected=!1,this.id=jsCommon.Utility.generateGuid()}o.prototype.getState=function(e){var t=this.state;return(0,i.isDetailedInstance)(t)?this.properties[e][t.id]:this.properties[e][t]},o.prototype.getAccentBar=function(e){var t;if(this.accentBarProperties)return t=this.state,(0,i.isDetailedInstance)(t)?this.accentBarProperties[e][t.id]:this.accentBarProperties[e][t]},Object.defineProperty(o.prototype,"shapeWidth",{get:function(){return Math.max(this.width-2*this.outsidePadding,0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapeHeight",{get:function(){return Math.max(this.height-2*this.outsidePadding,0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapeType",{get:function(){return this.getState("shape").tileShape},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapePath",{get:function(){return this.shape.shapePathString},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapeRounding",{get:function(){return this.getState("shape").shapeRounding},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapeLinecap",{get:function(){return this.getState("shape").linecapType},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapeProperties",{get:function(){return this.getState("shape")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shapePadding",{get:function(){return this.shapeType===a.shapeType.shape.Line?"flat"===this.shapeLinecap?this.outlineWeight/2*Math.abs(Math.sin(this.rotation*Math.PI/90)):this.outlineWeight/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outsidePadding",{get:function(){return this.effectPadding+this.shapePadding},enumerable:!1,configurable:!0}),o.prototype.getContentInscribedRectangle=function(e){e=this.shape.getContentBoundingBox(e*Math.PI/180);return{left:e.x+this.outsidePadding,top:e.y+this.outsidePadding,width:e.width,height:e.height}},Object.defineProperty(o.prototype,"fillShow",{get:function(){return this.getState("fill").show},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillColor",{get:function(){return this.getState("fill").fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillOpacity",{get:function(){return 1-this.getState("fill").fillTransparency/100},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillTransparency",{get:function(){return this.getState("fill").fillTransparency},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillImage",{get:function(){return this.getState("fill").fillImage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillImageAspectRatio",{get:function(){switch(this.fillImage&&this.fillImage.scaling){case"Fill":return"xMidYMid slice";case"Fit":return"none";default:return"xMidYMid"}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillImageTransparency",{get:function(){return this.getState("fill").fillImageTransparency},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillImageSplitTransparency",{get:function(){return this.getState("fill").fillImageSplitTransparency},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasOutline",{get:function(){return!(!this.getState("outline").show||0===this.getState("outline").outlineWeight)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outlineShow",{get:function(){return this.getState("outline").show},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outlineColor",{get:function(){return this.hasOutline?this.getState("outline").outlineColor:this.fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outlineWeight",{get:function(){return Math.max(2*this.getState("outline").outlineWeight,1e-6)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outlineOpacity",{get:function(){return this.hasOutline?1-this.getState("outline").outlineTransparency/100:this.fillOpacity},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowShow",{get:function(){return this.getState("shadow").show},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowAnglePreset",{get:function(){return this.getState("shadow").shadowPositionPreset},enumerable:!1,configurable:!0}),o.prototype.getAngle=function(e){if("Outer"===e.position)switch(e.anglePreset){case"centerRight":return 0;case"bottomRight":return 45;case"bottom":return 90;case"bottomLeft":return 135;case"centerLeft":return 180;case"topLeft":return 225;case"top":return 270;case"topRight":return 315;default:return"glow"===e.state?this.getState("glow").glowAngle:this.getState("shadow").shadowAngle}else if("Inner"===e.position)switch(e.anglePreset){case"centerLeft":return 0;case"topLeft":return 45;case"top":return 90;case"topRight":return 135;case"centerRight":return 180;case"bottomRight":return 225;case"bottom":return 270;case"bottomLeft":return 315;default:return"glow"===e.state?this.getState("glow").glowAngle:this.getState("shadow").shadowAngle}},Object.defineProperty(o.prototype,"shadowDistance",{get:function(){switch(this.shadowAnglePreset){case"center":return 0;case"custom":return this.getState("shadow").shadowDistance/10;default:return 5}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowDx",{get:function(){var e={anglePreset:this.shadowAnglePreset,position:this.shadowPosition,state:"shadow"};return Math.cos(this.getAngle(e)*(Math.PI/180))*(this.shadowDistance+("custom"===this.shadowAnglePreset?this.shadowSize:0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowDy",{get:function(){var e={anglePreset:this.shadowAnglePreset,position:this.shadowPosition,state:"shadow"};return Math.sin(this.getAngle(e)*(Math.PI/180))*(this.shadowDistance+("custom"===this.shadowAnglePreset?this.shadowSize:0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowBlur",{get:function(){return this.getState("shadow").shadowBlur/10},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowOpacity",{get:function(){return 1-this.getState("shadow").shadowTransparency/100},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowColor",{get:function(){return this.getState("shadow").shadowColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowSize",{get:function(){return this.getState("shadow").shadowSpread},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowShow",{get:function(){return this.getState("glow").show},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowAnglePreset",{get:function(){return this.getState("glow").glowPositionPreset},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shadowPosition",{get:function(){return this.getState("shadow").position},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowDistance",{get:function(){switch(this.glowAnglePreset){case"center":return 0;case"custom":return this.getState("glow").glowDistance/10;default:return 5}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowSize",{get:function(){return this.getState("glow").glowSpread},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowDx",{get:function(){var e={anglePreset:this.glowAnglePreset,position:this.glowPosition,state:"glow"};return Math.cos(this.getAngle(e)*(Math.PI/180))*(this.glowDistance+("custom"===this.glowAnglePreset?this.glowSize:0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowDy",{get:function(){var e={anglePreset:this.glowAnglePreset,position:this.glowPosition,state:"glow"};return Math.sin(this.getAngle(e)*(Math.PI/180))*(this.glowDistance+("custom"===this.glowAnglePreset?this.glowSize:0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowBlur",{get:function(){return this.getState("glow").glowBlur/10},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowOpacity",{get:function(){return 1-this.getState("glow").glowTransparency/100},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowColor",{get:function(){return this.getState("glow").glowColor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"glowPosition",{get:function(){return this.getState("glow").position},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"effectPadding",{get:function(){var e=!this.shadowShow||"Inner"===this.shadowPosition?0:2*this.shadowBlur+(this.shadowDistance+this.shadowSize),t=!this.glowShow||"Inner"===this.glowPosition?0:2*this.glowBlur+(this.glowDistance+this.glowSize);return Math.max(e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotation",{get:function(){return this.getState("shape").rotation},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cursor",{get:function(){return"inherit"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"accentBarShow",{get:function(){var e;return null==(e=this.getAccentBar("accentBar"))?void 0:e.show},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"accentBarPosition",{get:function(){var e;return null==(e=this.getAccentBar("accentBar"))?void 0:e.position},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"accentBarColor",{get:function(){var e;return null==(e=this.getAccentBar("accentBar"))?void 0:e.color},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"accentBarOpacity",{get:function(){var e;return 1-(null==(e=this.getAccentBar("accentBar"))?void 0:e.transparency)/100},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"accentBarWidth",{get:function(){var e;return null==(e=this.getAccentBar("accentBar"))?void 0:e.width},enumerable:!1,configurable:!0}),o.prototype.update=function(t){var i;return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return(t&&(this.element=null!=(i=t.element)?i:this.element,this.width=null!=(i=t.width)?i:this.width,this.height=null!=(i=t.height)?i:this.height,this.properties=null!=(i=t.properties)?i:this.properties),this.element,this.width,this.height,this.properties,this.updateShape(),0!==this.element.select("svg.tileSVG").size())?[3,2]:(this.init(),[4,this.afterInit()]);case 1:e.sent(),e.label=2;case 2:return void 0===this.selection&&(this.selection=this.element.select("svg.tileSVG")),[4,this.beforeRender()];case 3:return e.sent(),this.render(),[4,this.afterRender()];case 4:return e.sent(),[2]}})})},o.prototype.init=function(){this.selection=this.element.append("svg").attr("class","tileSVG");var e=this.selection.append("g").attr("id","container".concat(this.id)),t=e.append("g").attrs({class:"tile"}),t=(t.append("path").attr("class","fill ui-role-button-fill"),t.append("path").attr("class","accentBar"),t.append("clipPath").attr("id","clipPath".concat(this.id)).append("path").attr("class","clipPathpath"),this.contentSelection=e.append("g").attr("class","tileContentContainer"),e.append("defs"));t.append("filter").attrs({class:"invertedShadowFilters",id:"invertedShadowFilters".concat(this.id),filterUnits:"userSpaceOnUse"}),t.append("filter").attrs({class:"invertedGlowFilters",id:"invertedGlowFilters".concat(this.id),filterUnits:"userSpaceOnUse"}),t.append("filter").attrs({class:"shadowFilters",id:"shadowFilters".concat(this.id),filterUnits:"userSpaceOnUse"})},o.prototype.render=function(){var e=this,t=(this.selection.attrs({width:this.width,height:this.height}),(this.shadowShow||this.glowShow)&&!s.isInternetExplorer11()&&!s.isEdgeLegacy()),t=this.selection.select(".tile").attrs({transform:"translate(".concat(this.outsidePadding,", ").concat(this.outsidePadding,")"),cursor:this.cursor,filter:t?"url(#invertedShadowFilters".concat(this.id,") url(#invertedGlowFilters").concat(this.id,") url(#shadowFilters").concat(this.id,")"):null}),i=t.select(".fill").classed("selected",this.selected).attrs({d:this.shapePath,fill:this.fillColor,"fill-opacity":this.fillShow?this.fillOpacity:0,stroke:this.outlineShow?this.outlineColor:"transparent","stroke-width":this.outlineShow?this.outlineWeight:1e-6,"stroke-opacity":this.outlineOpacity,"stroke-linecap":this.shapeLinecap,"clip-path":this.shapeType!==a.shapeType.shape.Line?"url(#clipPath".concat(this.id,")"):null}),n=(this.accentBarShow?(o=void 0,(n=_.clone(this.shapeProperties)).tileShape=l.shape.AccentBar,o=(0,r.createShape)(this.shapeWidth,this.shapeHeight,n,this.accentBarPosition,this.accentBarWidth).accentBarPathString.toString(),t.select(".accentBar").attrs({d:o,"fill-opacity":this.accentBarOpacity,"clip-path":this.shapeType!==a.shapeType.shape.Line?"url(#clipPath".concat(this.id,")"):null,fill:this.accentBarColor})):t.select(".accentBar").attrs({"fill-opacity":0}),t.select(".clipPathpath").attr("d",this.shapePath),this.selection.select(".invertedShadowFilters")),o=this.selection.select(".invertedGlowFilters"),t=this.selection.select(".shadowFilters"),n=(n.selectAll("*").remove(),o.selectAll("*").remove(),t.selectAll("*").remove(),"Inner"===this.shadowPosition?(this.getInvertedFilter(n),this.setFilters({dx:this.shadowDx,dy:this.shadowDy,blur:this.shadowBlur,color:this.shadowColor,opacity:this.shadowOpacity,show:this.shadowShow},n)):t.append("feDropShadow").attrs({class:"dropshadow",dx:this.shadowDx,dy:this.shadowDy,stdDeviation:this.shadowBlur,"flood-color":this.shadowColor,"flood-opacity":this.shadowShow?this.shadowOpacity:0,result:"dropshadow"}),"Inner"===this.glowPosition?(this.getInvertedFilter(o),this.setFilters({dx:this.glowDx,dy:this.glowDy,blur:this.glowBlur,color:this.glowColor,opacity:this.glowOpacity,show:this.glowShow},o)):t.append("feDropShadow").attrs({class:"glow",dx:this.glowDx,dy:this.glowDy,stdDeviation:this.glowBlur,"flood-color":this.glowColor,"flood-opacity":this.glowShow?this.glowOpacity:0,result:"glow"}),this.outlineShow?this.outlineWeight:0),o=(u.renderBackgroundImage({image:this.fillShow?this.fillImage:void 0,transparency:this.fillImageSplitTransparency?this.fillImageTransparency:this.fillTransparency},$(this.element.node()),{left:0+n/2,top:0+n/2,width:this.width-n,height:this.height-n}),this.getContentInscribedRectangle(this.rotation));this.element.select(".background-image").style("top","".concat(o.top,"px")).style("left","".concat(o.left,"px")).style("width","".concat(o.width-n,"px")).style("height","".concat(o.height-n,"px")).style("transform","rotate(".concat(this.rotation,"deg)")).style("pointer-events","none"),i.on("click",function(){return e.onTileClick()}).on("contextmenu",function(){return e.onTileContextMenu()}).on("pointerover",function(){return e.onPointerOver()}).on("pointerleave",function(){return e.onTilePointerleave()}).on("pointerdown",function(){return e.onTilePointerdown()}).on("pointerup",function(){return e.onTilePointerup()}),this.supportsKeyboard&&this.element.attr("tabindex",0).attr("focusable",!0).attr("aria-pressed",this.selected).on("keydown",function(){return e.onTileKeydown()})},o.prototype.getInvertedFilter=function(e){e.append("feOffset").attr("class","feOffset"),e.append("feGaussianBlur").attr("class","feGaussianBlur"),e.append("feComposite").attr("class","feCompositeInvertShadow"),e.append("feFlood").attr("class","feFlood"),e.append("feComposite").attr("class","feCompositeCutColor"),e.append("feComposite").attr("class","feCompositeOverElement")},o.prototype.setFilters=function(e,t){t.select(".feOffset").attrs({in:"SourceGraphic",dx:e.dx,dy:e.dy,result:"feOffset"}),t.select(".feGaussianBlur").attrs({in:"feOffset",stdDeviation:e.blur,result:"offset-blur"}),t.select(".feCompositeInvertShadow").attrs({operator:"out",in:"SourceGraphic",in2:"offset-blur",result:"inverse"}),t.select(".feFlood").attrs({in:"SourceGraphic","flood-color":e.color,"flood-opacity":e.show?e.opacity:0,result:"color"}),t.select(".feCompositeCutColor").attrs({operator:"in",in:"color",in2:"inverse",result:"shadow"}),t.select(".feCompositeOverElement").attrs({operator:"over",in:"shadow",in2:"SourceGraphic"})},o.prototype.renderWithoutLifecycleEvents=function(){return __awaiter(this,void 0,powerbi.Promise,function(){var t,i=this;return __generator(this,function(e){return t=new n,s.isPointerTypeTouch(d3.event)?window.requestAnimationFrame(function(){i.render(),t.resolve()}):(this.render(),t.resolve()),[2]})})},o.prototype.onPointerOver=function(){s.isPointerTypeTouch(d3.event)||this.onTilePointerover()},o.prototype.createNewShape=function(){return(0,r.createShape)(this.shapeWidth,this.shapeHeight,this.shapeProperties)},o.prototype.updateShape=function(){this.shape=this.createNewShape()},o.prototype.onTileClick=function(){},o.prototype.onTileContextMenu=function(){},o.prototype.onTileKeydown=function(){},o.prototype.onTilePointerover=function(){},o.prototype.onTilePointerleave=function(){},o.prototype.onTilePointerdown=function(){},o.prototype.onTilePointerup=function(){},o.prototype.afterInit=function(){return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){return[2]})})},o.prototype.beforeRender=function(){return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){return[2]})})},o.prototype.afterRender=function(){return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){return[2]})})},t.Tile=o});