"use strict";
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['basicShapeVisual.min.js'] || (this.parseTimeMarkers['basicShapeVisual.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('basicShapeVisual.min.js');var es6,powerbi,__extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,a,l,s){return new(l=l||Promise)(function(n,t){function o(e){try{r(s.next(e))}catch(e){t(e)}}function i(e){try{r(s.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(o,i)}r((s=s.apply(e,a||[])).next())})},__generator=this&&this.__generator||function(o,i){var r,a,l,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(l=2&t[0]?a.return:t[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,t[1])).done)return l;switch(a=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(l=0<(l=s.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3]))s.label=t[1];else if(6===t[0]&&s.label<l[1])s.label=l[1],l=t;else{if(!(l&&s.label<l[2])){l[2]&&s.ops.pop(),s.trys.pop();continue}s.label=l[2],s.ops.push(t)}}t=i.call(o,s)}catch(e){t=[6,e],a=0}finally{r=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};define("BasicShapeVisual/actionButton",["require","exports","BasicShapeVisual/actionButtonUtils","TileLibrary/index"],function(z,p,t,c){Object.defineProperty(p,"__esModule",{value:!0}),p.ActionButton=p.DefaultButtonTextFontSizeInPt=p.BackgroundColor=p.DarkAndGrayDisabledActionButtonBackgroundColor=p.LightDisabledActionButtonBackgroundColor=p.DisabledActionButtonForegroundColor=p.DefaultActionButtonForegroundColor=p.ButtonOutlineSelector=p.ButtonIconSelector=p.ButtonTextSelector=void 0;var e=powerbi,r=powerbi.visuals,a=e.visuals.ActionButtonType,u=e.visuals.BackgroundColorName,n=jsCommon.BrowserUtils,h=powerbi.visuals.builder,g=e.visuals.ColorHelper,o=jsCommon.CssConstants.createClassAndSelector,d=powerbi.data.createDisplayNameGetter,f=e.DataViewObjects,l=e.visuals.Font,y=e.visuals.FontProperties,s=e.visuals.Units.FontSize,v=e.visuals.horizontalAlignment,i=e.visuals.iconPlacement,b=powerbi.visuals.InteractivityUtils,m=e.visuals.legacyActionButtonProps,w=e.visuals.ObjectEnumerationBuilder,S=r.shapeType.shape,C=powerbi.visuals.shapeObjectProps,B=e.visuals.verticalAlignment,R=e.VisualDataChangeOperationKind,T=powerbi.visuals.visualLocKeys,x=r.actionButtonProps,A=r.actionButtonInstanceId,P=r.actionButtonObjectNames,V=r.actionButtonObjectPropertyNames,D=(p.ButtonTextSelector=o("button-text"),p.ButtonIconSelector=o("button-icon"),p.ButtonOutlineSelector=o("button-outline"),p.DefaultActionButtonForegroundColor="foregroundButton",p.DisabledActionButtonForegroundColor="foregroundNeutralTertiary",p.LightDisabledActionButtonBackgroundColor="backgroundLight",p.DarkAndGrayDisabledActionButtonBackgroundColor="backgroundNeutral",p.BackgroundColor="background",p.DefaultButtonTextFontSizeInPt=10,B.middle),M=[A.default,A.hover,A.selected,A.disabled],k=[A.default,A.hover,A.selected],_=["default","hover","selected","disabled"],O=["default","hover","selected"];function I(){}I.prototype.init=function(e){this.currentViewport=e.viewport,this.style=e.style,this.hostServices=e.host,this.element=e.element,this.featureSwitches=e.featureSwitches,this.featureSwitches.buttonTileFormatting?(this.currentViewport=e.viewport,this.elementSelection=d3.select(e.element.get(0)),this.style=e.style,this.buttonTile=new j(this.hostServices)):(this.buttonSelection=d3.select(e.element.get(0)).append("button").attr("type","button").classed("themableBackgroundColor",!0),this.buttonSelection.append("span").classed(p.ButtonTextSelector.class,!0),this.buttonSelection.append("div").classed(p.ButtonIconSelector.class,!0),this.buttonSelection.append("div").classed(p.ButtonOutlineSelector.class,!0))},I.prototype.update=function(e){var t,n;this.currentViewport=e.viewport,e.dataViews&&0<e.dataViews.length&&e.operationKind!==R.None&&((e=e.dataViews[0]).metadata,t=e.metadata.objects,n=null==(n=this.hostServices.getVisualLinkProperties())?void 0:n.type,this.featureSwitches.buttonTileFormatting?(this.data=I.convert(e,this.style,n,this.hostServices),this.render()):(this.legacyData=this.legacyConverter(t),this.legacyRender()))},I.prototype.onViewModeChanged=function(e){this.featureSwitches.buttonTileFormatting||t.styleVisualLink(this.buttonSelection,this.hostServices)},I.getActionButtonType=function(e,t){switch(t){case"ApplyAllSlicers":return a.applyAllSlicers;case"ClearAllSlicers":return a.clearAllSlicers;default:return e}},I.convert=function(e,t,n,o){var i=e.metadata.objects,r=g.create(t),a=this.getIconDefaults(t,n),a=(0,c.convertIcon)(i,r,M,a),n=this.getActionButtonType(a.default.shapeType,n),l=this.getOutlineDefaults(t,n),n=this.getTextDefaults(t,r,n,o),o=this.convertRotation(i),i=(0,c.convertText)(e,r,M,n,this.textProps,{default:{rotation:o.rotation+o.textRotation}});return{tileProps:{fill:(0,c.convertTileFill)(e,r,M,this.getFillDefaults(t)),outline:(0,c.convertTileOutline)(e,r,M,l),shape:(0,c.convertTileShape)(e,M,this.getShapeDefaults(),void 0,{rotation:o.rotation+o.shapeRotation}),shadow:(0,c.convertTileShadow)(e,r,M,this.getShadowDefaults(t)),glow:(0,c.convertTileGlow)(e,r,M,this.getGlowDefaults(t))},contentProps:{text:i,icon:a},rotationProps:o}},I.convertRotation=function(e){return __assign(__assign({},this.getRotationDefaults()),(0,c.getSettingProps)(e,this.rotationProps.props))},I.getRotationDefaults=function(){return{rotation:0,shapeRotation:0,textRotation:0}},I.prototype.legacyConverter=function(e){var t=g.create(this.style),n=this.convertButtonIcon(e,t);return{icon:n,text:this.convertButtonText(e,t,n.default.shapeType),outline:this.convertButtonOutline(e,t,n.default.shapeType),fill:this.convertButtonFill(e,t)}},I.prototype.convertButtonText=function(e,t,n){for(var o=this.getLegacyDefaultButtonTextData(n,this.style),i={default:null,hover:null,active:null,disabled:null},r=f.getValue(e,m.text.show,o.show),a=f.getUserDefinedObjects(e,"text"),l=y.createFromObjectOrStyle(f.getObject(a,"default"),{color:"fontColor",family:"fontFamily",size:"fontSize"},t,this.style,void 0,"lightLabel",o.fontProperties),s=0,u=_;s<u.length;s++){var c=u[s],h=l;"default"!==c&&(h=y.createFromDataViewObject(f.getObject(a,c),{color:"fontColor",family:"fontFamily",size:"fontSize"},t,void 0,l)),i[c]={show:r,text:f.getValue(e,m.text.text,this.getDefaultStateValue(i,function(e){return e.text},o),c),padding:f.getValue(e,m.text.padding,this.getDefaultStateValue(i,function(e){return e.padding},o),c),verticalAlignment:f.getValue(e,m.text.verticalAlignment,this.getDefaultStateValue(i,function(e){return e.verticalAlignment},o),c),horizontalAlignment:f.getValue(e,m.text.horizontalAlignment,this.getDefaultStateValue(i,function(e){return e.horizontalAlignment},o),c),fontProperties:{color:"disabled"!==c||t.getColorForProperty(e,m.text.fontColor,void 0,c)?h.color:g.getThemeColor(this.style,p.DisabledActionButtonForegroundColor),size:h.size,family:h.family}}}return i},I.prototype.convertButtonIcon=function(e,t){for(var n=this,o=this.getLegacyDefaultButtonIconData(this.style),i={default:null,hover:null,active:null,disabled:null},r=f.getValue(e,m.icon.show,o.show),a=0,l=_;a<l.length;a++){var s=l[a];i[s]={show:r,shapeType:f.getValue(e,m.icon.shapeType,this.getDefaultStateValue(i,function(e){return e.shapeType},o),s),padding:f.getValue(e,m.icon.padding,this.getDefaultStateValue(i,function(e){return e.padding},o),s),verticalAlignment:f.getValue(e,m.icon.verticalAlignment,this.getDefaultStateValue(i,function(e){return e.verticalAlignment},o),s),horizontalAlignment:f.getValue(e,m.icon.horizontalAlignment,this.getDefaultStateValue(i,function(e){return e.horizontalAlignment},o),s),lineColor:this.getDefaultStateColorIfValueIsNull(t.getColorForProperty(e,m.icon.lineColor,void 0,s),i,function(e){return e.lineColor},function(){return g.getThemeColor(n.style,p.DefaultActionButtonForegroundColor)},"disabled"!==s?void 0:g.getThemeColor(this.style,p.DisabledActionButtonForegroundColor)),lineTransparency:f.getValue(e,m.icon.lineTransparency,this.getDefaultStateValue(i,function(e){return e.lineTransparency},o),s),lineWeight:f.getValue(e,m.icon.lineWeight,this.getDefaultStateValue(i,function(e){return e.lineWeight},o),s)}}return i},I.prototype.convertButtonOutline=function(e,t,n){for(var o=this,i=this.getLegacyDefaultButtonOutlineData(n,this.style),r={default:null,hover:null,active:null,disabled:null},a=f.getValue(e,m.outline.show,i.show),l=0,s=_;l<s.length;l++){var u=s[l];r[u]={show:a,outlineColor:this.getDefaultStateColorIfValueIsNull(t.getColorForProperty(e,m.outline.lineColor,void 0,u),r,function(e){return e.outlineColor},function(){return g.getThemeColor(o.style,p.DefaultActionButtonForegroundColor)},"disabled"!==u?void 0:I.getBackgroundDisabledColor(this.style)),outlineTransparency:f.getValue(e,m.outline.transparency,this.getDefaultStateValue(r,function(e){return e.outlineTransparency},i),u),outlineWeight:f.getValue(e,m.outline.weight,this.getDefaultStateValue(r,function(e){return e.outlineWeight},i),u),roundEdge:f.getValue(e,m.outline.roundEdge,this.getDefaultStateValue(r,function(e){return e.roundEdge},i),u)}}return r},I.prototype.convertButtonFill=function(e,t){for(var n=this,o=this.getLegacyDefaultButtonFillData(this.style),i={default:null,hover:null,active:null,disabled:null},r=f.getValue(e,m.fill.show,o.show),a=0,l=_;a<l.length;a++){var s=l[a];i[s]={show:"disabled"===s||r,fillColor:this.getDefaultStateColorIfValueIsNull(t.getColorForProperty(e,m.fill.fillColor,void 0,s),i,function(e){return e.fillColor},function(){return g.getThemeColor(n.style,u)},"disabled"!==s?void 0:I.getBackgroundDisabledColor(this.style)),fillTransparency:f.getValue(e,m.fill.transparency,this.getDefaultStateValue(i,function(e){return e.fillTransparency},o,"disabled"!==s?void 0:0),s),image:f.getValue(e,m.fill.image,this.getDefaultStateValue(i,function(e){return e.image},o),s)}}return i},I.prototype.getDefaultStateValue=function(e,t,n,o){return void 0!==o?o:e.default?t(e.default):t(n)},I.prototype.getDefaultStateColorIfValueIsNull=function(e,t,n,o,i){return e||(void 0!==i?i:t.default?n(t.default):o())},I.getFillDefaults=function(e){return{default:{show:!1,fillColor:g.getThemeColor(e,u),fillTransparency:50,fillImage:void 0,fillImageTransparency:0,fillImageSplitTransparency:!1},disabled:{show:!0,fillColor:I.getBackgroundDisabledColor(e),fillTransparency:0}}},I.getOutlineDefaults=function(e,t){var n=t===a.applyAllSlicers||t===a.clearAllSlicers,t={default:{show:t===a.blank||n,outlineColor:g.getThemeColor(e,p.DefaultActionButtonForegroundColor),outlineWeight:3,outlineTransparency:0},disabled:{outlineColor:I.getBackgroundDisabledColor(e)}};return n?__assign(__assign({},t),{hover:{show:!0},selected:{show:!0}}):t},I.getShapeDefaults=function(){return{default:{tileShape:powerbi.visuals.shapeType.shape.Rectangle,rotation:0,shapeRounding:0,linecapType:"flat",arrowheadSize:50,arrowStemWidth:25,chevronAngle:90,isocelesTriangleTipPosition:50,parallelogramSlant:100/3,trapezoidSlant:40,hexagonSlant:200/3,octagonSnipSize:100/3,speechBubbleHeight:10,speechBubbleTailPosition:powerbi.visuals.SpeechBubbleTailPosition.BottomLeft,speechBubbleTailAngle:90,rectangleRoundedCurve:25,rectangleRoundedCurveCustomStyle:!1,rectangleRoundedCurveLeftTop:0,rectangleRoundedCurveRightTop:0,rectangleRoundedCurveLeftBottom:0,rectangleRoundedCurveRightBottom:0,tabCutCornerSnipSizeTopRight:25,tabCutCornerSnipSizeTop:25,tabCutCornerSnipSizeBottom:0,tabRoundCornerTopRight:25,tabRoundCornerTop:25,tabRoundCornerBottom:0,tabCutCornerSnipSizeCustomStyle:!1,tabCutCornerSnipSizeLeftTop:0,tabCutCornerSnipSizeRightTop:0,tabCutCornerSnipSizeLeftBottom:0,tabCutCornerSnipSizeRightBottom:0}}},I.getShadowDefaults=function(e){return{default:{show:!1,shadowColor:e?e.colorPalette.foreground.value:"#000",shadowTransparency:70,shadowBlur:20,shadowPositionPreset:"bottomRight",shadowAngle:45,shadowDistance:50,position:"Outer",shadowSpread:0}}},I.getGlowDefaults=function(e){return{default:{show:!1,glowColor:g.getDataColorByIndex(e,0,r.ForegroundColorName),glowTransparency:0,glowBlur:40,glowPositionPreset:"center",glowAngle:0,glowDistance:0,position:"Outer",glowSpread:0}}},I.getTextValue=function(e,t){return e===a.applyAllSlicers?t.getLocalizedString("ReportAppBar_ApplyAllSlicers"):e===a.clearAllSlicers?t.getLocalizedString("ReportAppBar_ClearAllSlicers"):""},I.getTextDefaults=function(e,t,n,o){var i=n===a.applyAllSlicers||n===a.clearAllSlicers;return{default:{show:i,text:this.getTextValue(n,o),verticalAlignment:D,horizontalAlignment:n===a.blank||i?v.center:v.right,rightMargin:4,leftMargin:4,topMargin:4,bottomMargin:4,rotation:0,fontProperties:r.FontProperties.createFromObjectOrStyle(null,{color:V.fontColor,size:V.fontSize,family:V.fontFamily},t,e,void 0,"lightLabel",{color:g.getThemeColor(e,p.DefaultActionButtonForegroundColor),size:s.createFromPt(p.DefaultButtonTextFontSizeInPt),family:l.Family.regular.css})},disabled:{fontProperties:{color:g.getThemeColor(e,p.DisabledActionButtonForegroundColor)}}}},I.getIconDefaults=function(e,t){return{default:{show:!("ApplyAllSlicers"===t||"ClearAllSlicers"===t),shapeType:this.getActionButtonType(a.blank,t),iconImage:void 0,lineColor:g.getThemeColor(e,p.DefaultActionButtonForegroundColor),lineTransparency:0,lineWeight:3,placement:i.custom,verticalAlignment:D,horizontalAlignment:v.left,rightMargin:4,leftMargin:4,topMargin:4,bottomMargin:4,iconSize:void 0,rotation:0},disabled:{lineColor:g.getThemeColor(e,p.DisabledActionButtonForegroundColor)}}},I.prototype.getLegacyDefaultButtonTextData=function(e,t){return{show:!1,text:"",padding:4,verticalAlignment:D,horizontalAlignment:e===a.blank?v.center:v.right,fontProperties:{color:g.getThemeColor(t,p.DefaultActionButtonForegroundColor),size:s.createFromPt(p.DefaultButtonTextFontSizeInPt),family:l.Family.regular.css}}},I.prototype.getLegacyDefaultButtonIconData=function(e){return{show:!0,shapeType:a.blank,padding:4,verticalAlignment:D,horizontalAlignment:v.left,lineColor:g.getThemeColor(e,p.DefaultActionButtonForegroundColor),lineTransparency:0,lineWeight:3}},I.prototype.getLegacyDefaultButtonOutlineData=function(e,t){return{show:e===a.blank,outlineColor:g.getThemeColor(t,p.DefaultActionButtonForegroundColor),outlineTransparency:0,outlineWeight:3,roundEdge:0}},I.prototype.getLegacyDefaultButtonFillData=function(e){return{show:!1,fillColor:g.getThemeColor(e,u),fillTransparency:50,image:void 0}},I.getBackgroundDisabledColor=function(e){var t=g.getThemeColor(e,p.BackgroundColor),t="#FFF"===t||"#FFFFFF"===t?g.getThemeColor(e,p.LightDisabledActionButtonBackgroundColor):g.getThemeColor(e,p.DarkAndGrayDisabledActionButtonBackgroundColor);return t},I.prototype.enumerateObjectInstances=function(e){return this.featureSwitches.buttonTileFormatting?this.enumerator(e):this.legacyEnumerator(e)},I.prototype.getFormattingModel=function(){var e,t=this,n=null==(e=this.featureSwitches)?void 0:e.onObject;return new h.FormattingModelBuilder(function(){return!n&&t.getShapeCard()},function(){return n&&t.getButtonStyleCard()},function(){return t.getRotationCard()},function(){return!n&&t.getStyleCard()},function(){return t.getVisualLinkPlaceholder()}).build()},I.prototype.getContainerName=function(e){switch(e){case A.default:e="Default";break;case A.hover:e="Hover";break;case A.selected:e="Press";break;case A.disabled:e="Disabled"}return this.hostServices.getLocalizedString(e)},I.prototype.getDisplayedInstanceIds=function(){var e;return"ClearAllSlicers"!==(null==(e=this.hostServices.getVisualLinkProperties())?void 0:e.type)&&this.featureSwitches.drillthroughButtonGA?M:k},I.prototype.getShapeCard=function(){var i=this,e=x.shape,r=new h.FormattingCardUidBuilder("shape"),t=this.getDisplayedInstanceIds();return new h.FormattingCardBuilder(r,"Visual_Shape",[e.tileShape,e.roundEdge,C.shape.linecapType,e.arrowheadSize,e.arrowStemWidth,e.chevronAngle,e.isocelesTriangleTipPosition,e.parallelogramSlant,e.trapezoidSlant,e.hexagonSlant,e.octagonSnipSize,e.speechBubbleHeight,e.speechBubbleTailPosition,e.speechBubbleTailAngle,e.rectangleRoundedCurve,e.tabCutCornerSnipSizeTopRight,e.tabCutCornerSnipSizeTop,e.tabCutCornerSnipSizeBottom,e.tabRoundCornerTopRight,e.tabRoundCornerTop,e.tabRoundCornerBottom],function(e){return i.hostServices.getLocalizedString(e)}).addGroup("applySettingsTo",function(e){e.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("state",function(o){o.withDisplayName("State"),t.forEach(function(e){var t=[],n=(0,c.getShapeGroupByInstance)(i.data.tileProps.shape,i.hostServices,i.featureSwitches,e,r,((n={})[S.Line]=!0,n));t.push(n),o.addContainerItem(e,i.getContainerName(e),function(e){return e.withGroups(t)})})})}).build()},I.prototype.getButtonStyleCard=function(){var i=this,e=x.shape,t=x.fill,n=x.outline,o=x.text,r=x.icon,a=x.shadow,l=x.glow,s=new h.FormattingCardUidBuilder("buttonStyle"),u=this.getDisplayedInstanceIds();return new h.FormattingCardBuilder(s,"Visual_ButtonStyle",[e.tileShape,e.roundEdge,C.shape.linecapType,e.arrowheadSize,e.arrowStemWidth,e.chevronAngle,e.isocelesTriangleTipPosition,e.parallelogramSlant,e.trapezoidSlant,e.hexagonSlant,e.octagonSnipSize,e.speechBubbleHeight,e.speechBubbleTailPosition,e.speechBubbleTailAngle,e.rectangleRoundedCurve,e.tabCutCornerSnipSizeTopRight,e.tabCutCornerSnipSizeTop,e.tabCutCornerSnipSizeBottom,e.tabRoundCornerTopRight,e.tabRoundCornerTop,e.tabRoundCornerBottom,t.show,t.fillColor,t.transparency,t.image,n.show,n.lineColor,n.weight,n.transparency,o.show,o.fontColor,o.fontSize,o.fontFamily,o.italic,o.bold,o.underline,o.text,o.verticalAlignment,o.horizontalAlignment,o.leftMargin,o.rightMargin,o.topMargin,o.bottomMargin,o.angle,r.show,r.shapeType,r.image,r.lineColor,r.lineTransparency,r.lineWeight,r.placement,r.verticalAlignment,r.horizontalAlignment,r.leftMargin,r.rightMargin,r.topMargin,r.bottomMargin,r.spacing,r.iconSize,a.show,a.color,a.transparency,a.shadowBlur,a.shadowPositionPreset,l.show,l.color,l.transparency,l.shadowBlur],function(e){return i.hostServices.getLocalizedString(e)}).addGroup("applySettingsTo",function(e){e.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("state",function(o){o.withDisplayName("State"),u.forEach(function(e){var t=[],n=(0,c.getShapeGroupByInstance)(i.data.tileProps.shape,i.hostServices,i.featureSwitches,e,s,((n={})[S.Line]=!0,n)),n=(t.push(n),i.getStyleGroupsByInstance(e,s));t.push.apply(t,n),o.addContainerItem(e,i.getContainerName(e),function(e){return e.withGroups(t)})})})}).build()},I.prototype.getStyleCard=function(){var n=this,e=x.fill,t=x.outline,o=x.text,i=x.icon,r=x.shadow,a=x.glow,l=new h.FormattingCardUidBuilder("style"),s=this.getDisplayedInstanceIds(),e=[e.show,e.fillColor,e.transparency,e.image,t.show,t.lineColor,t.weight,t.transparency,o.show,o.fontColor,o.fontSize,o.fontFamily,o.italic,o.bold,o.underline,o.text,o.verticalAlignment,o.horizontalAlignment,o.leftMargin,o.rightMargin,o.topMargin,o.bottomMargin,o.angle,i.show,i.shapeType,i.image,i.lineColor,i.lineTransparency,i.lineWeight,i.placement,i.verticalAlignment,i.horizontalAlignment,i.leftMargin,i.rightMargin,i.topMargin,i.bottomMargin,i.spacing,i.iconSize,r.show,r.color,r.transparency,r.shadowBlur,r.shadowPositionPreset,a.show,a.color,a.transparency,a.shadowBlur];return new h.FormattingCardBuilder(l,"Style",e,function(e){return n.hostServices.getLocalizedString(e)}).addGroup("applySettingsTo",function(e){e.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("state",function(e){e.withDisplayName("State"),s.forEach(function(t){e.addContainerItem(t,n.getContainerName(t),function(e){return e.withGroups(n.getStyleGroupsByInstance(t,l))})})})}).build()},I.prototype.getVisualLinkPlaceholder=function(){return h.buildHostFormattingCardPlaceholder("actions")},I.prototype.getStyleGroupsByInstance=function(e,t){var n=[];return n.push((0,c.getTextGroupByInstance)(this.data.contentProps.text,this.hostServices,e,t)),n.push((0,c.getIconGroupByInstance)(this.data.contentProps.icon,this.hostServices,e,t,this.featureSwitches)),n.push((0,c.getFillGroupByInstance)(!0,this.data.tileProps.fill,this.hostServices,e,t)),n.push((0,c.getOutlineGroupByInstance)(this.data.tileProps.outline,this.hostServices,e,t)),n.push((0,c.getShadowGroupByInstance)(this.data.tileProps.shadow,this.hostServices,e,t)),n.push((0,c.getGlowGroupByInstance)(this.data.tileProps.glow,this.hostServices,e,t)),n},I.prototype.enumerator=function(e){var t,n=this.data;if(!n)return[];var o=new w,i=this.featureSwitches.drillthroughButtonGA?M:k;switch(e.objectName){case P.fill:(0,c.enumerateFillProperties)(o,n.tileProps.fill,i,I.getInstanceDisplayName);break;case P.outline:(0,c.enumerateOutlineProperties)(o,n.tileProps.outline,i,I.getInstanceDisplayName);break;case P.text:(0,c.enumerateTextProperties)(o,n.contentProps.text,i,I.getInstanceDisplayName);break;case P.icon:(0,c.enumerateIconProperties)(o,n.contentProps.icon,i,I.getInstanceDisplayName);break;case P.shape:(0,c.enumerateShapeProperties)(o,n.tileProps.shape,i,I.getInstanceDisplayName,this.featureSwitches,((t={})[S.Line]=!0,t));break;case P.shadow:(0,c.enumerateShadowProperties)(o,n.tileProps.shadow,i,I.getInstanceDisplayName);break;case P.glow:(0,c.enumerateGlowProperties)(o,n.tileProps.glow,i,I.getInstanceDisplayName);break;case P.rotation:this.enumerateRotationProperties(o,n.rotationProps)}return o.complete()},I.prototype.enumerateRotationProperties=function(e,t){var n,o={unitSymbol:r.visualLocKeys.DegreeLocKey,numberRange:{min:0,max:360}};(n={})[V.rotation]=t.rotation,n[V.shapeRotation]=t.shapeRotation,n[V.textRotation]=t.textRotation,e.pushInstance({objectName:V.rotation,selector:null,properties:n,validValues:((t={})[V.shapeRotation]=o,t[V.textRotation]=o,t)})},I.prototype.getRotationCard=function(){function t(e){return n.hostServices.getLocalizedString(e)}var n=this,o=x.rotation,i=this.data.rotationProps;return new h.FormattingCardBuilder(new h.FormattingCardUidBuilder("rotation"),"Visual_BasicShape_Rotate",[o.angle,o.shapeAngle,o.textAngle],t).addGroup("default",function(e){e.addSimpleSlice("all",h.SliderBuilder.getRotationSliderBuilder({descriptor:__assign(__assign({},o.angle),{selector:null}),value:i.rotation,localize:t}).build(),function(e){return e.withCustomDisplayName("All")}).addSimpleSlice("shape",h.SliderBuilder.getRotationSliderBuilder({descriptor:__assign(__assign({},o.shapeAngle),{selector:null}),value:i.shapeRotation,localize:t}).build(),function(e){return e.withCustomDisplayName("Visual_Shape")}).addSimpleSlice("text",h.SliderBuilder.getRotationSliderBuilder({descriptor:__assign(__assign({},o.textAngle),{selector:null}),value:i.textRotation,localize:t}).build(),function(e){return e.withCustomDisplayName("Text")})}).build()},I.getInstanceDisplayName=function(e){return e===A.default?d("DefaultState"):e===A.hover?d("Hover"):e===A.selected?d("Press"):e===A.disabled?d("Disabled"):void 0},I.prototype.legacyEnumerator=function(e){var t=this.legacyData;if(!t)return[];var n={unitSymbol:T.PixelUnitSymbol,numberRange:{min:0,max:999}},o=new w;switch(e.objectName){case"text":o.pushInstance({objectName:"text",selector:null,properties:{show:t.text.default.show}});break;case"icon":o.pushInstance({objectName:"icon",selector:null,properties:{show:t.icon.default.show}});break;case"outline":o.pushInstance({objectName:"outline",selector:null,properties:{show:t.outline.default.show}});break;case"fill":o.pushInstance({objectName:"fill",selector:null,properties:{show:t.fill.default.show}})}for(var i=0,r=this.featureSwitches.drillthroughButtonGA?_:O;i<r.length;i++){var a=r[i];switch(o.pushContainer({displayName:function(e){if("default"===e)return d("DefaultState");if("hover"===e)return d("Hover");if("selected"===e)return d("Press");if("disabled"===e)return d("Disabled")}(a)}),e.objectName){case"text":var l=t.text[a];o.pushInstance({objectName:"text",selector:{id:a},properties:{text:l.text,fontColor:l.fontProperties.color,padding:l.padding,verticalAlignment:l.verticalAlignment,horizontalAlignment:l.horizontalAlignment,fontSize:l.fontProperties.size.pt,fontFamily:l.fontProperties.family},validValues:{padding:n},propertyInstanceKind:{text:3,fontColor:3}});break;case"icon":l=t.icon[a];o.pushInstance({objectName:"icon",selector:{id:a},properties:{shapeType:l.shapeType,padding:l.padding,verticalAlignment:l.verticalAlignment,horizontalAlignment:l.horizontalAlignment,lineColor:l.lineColor,lineTransparency:l.lineTransparency,lineWeight:l.lineWeight},validValues:{padding:n,lineWeight:{unitSymbol:T.WeightLocKey,numberRange:{min:0,max:50}}},propertyInstanceKind:{lineColor:3}});break;case"outline":var s=t.outline[a];o.pushInstance({objectName:"outline",selector:{id:a},properties:{lineColor:s.outlineColor,transparency:s.outlineTransparency,weight:s.outlineWeight,roundEdge:s.roundEdge},validValues:{roundEdge:{unitSymbol:T.PixelUnitSymbol,numberRange:{min:0,max:100}}},propertyInstanceKind:{lineColor:3}});break;case"fill":var s=t.fill[a],u={objectName:"fill",selector:{id:a},properties:{fillColor:s.fillColor,transparency:s.fillTransparency},propertyInstanceKind:{fillColor:3}};this.featureSwitches.drillthroughButtonGA&&(u.properties.image=s.image),o.pushInstance(u)}o.popContainer()}return o.complete()},I.prototype.render=function(){this.buttonTile.contentProperties=this.data.contentProps;var e={element:this.elementSelection,properties:this.data.tileProps,width:this.currentViewport.width,height:this.currentViewport.height};this.buttonTile.update(e)},I.prototype.legacyRender=function(){t.renderLegacyButton(this.legacyData,this.currentViewport,this.buttonSelection,this.hostServices,this.element)},I.rotationProps={props:{rotation:x.rotation.angle,shapeRotation:x.rotation.shapeAngle,textRotation:x.rotation.textAngle}},I.textProps={props:{text:x.text.text,verticalAlignment:x.text.verticalAlignment,horizontalAlignment:x.text.horizontalAlignment,rightMargin:x.text.rightMargin,leftMargin:x.text.leftMargin,topMargin:x.text.topMargin,bottomMargin:x.text.bottomMargin},fontProps:{fontProperties:{objectName:"text",propertyNames:{color:V.fontColor,family:V.fontFamily,size:V.fontSize,italic:V.italic,bold:V.bold,underline:V.underline}}}},p.ActionButton=I;F=c.Tile,__extends(L,F),Object.defineProperty(L.prototype,"cursor",{get:function(){return this.hasVisualLink?"pointer":"inherit"},enumerable:!1,configurable:!0}),L.prototype.beforeRender=function(){var n;return __awaiter(this,void 0,powerbi.Promise,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.hasVisualLink=null==(n=this.hostServices.getVisualLinkProperties())?void 0:n.hasVisualLink,[4,(t=this).hostServices.isVisualEnabled()];case 1:return t.isEnabled=e.sent(),this.state=this.isEnabled?A.default:A.disabled,[2]}})})},L.prototype.afterRender=function(){return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){return this.renderContent(),[2]})})},L.prototype.renderContent=function(){var e=this.state,t=this.contentProperties.text[e],e=this.contentProperties.icon[e],n=this.getContentInscribedRectangle(t.rotation),o=this.getContentInscribedRectangle(e.rotation);c.TileLibraryContent.renderTextIcon(this.element,__assign(__assign({},t),{dimensions:n}),__assign(__assign({},e),{dimensions:o}))},L.prototype.onTileClick=function(){var e=d3.event,t={type:0,visualObjects:[{objectName:"button",selectorsByColumn:{}}],isCtrlOrMetaKey:n.isCtrlOrMeta(e),position:b.getPositionOfLastInputEvent()};this.hostServices.onSelecting(t),1===t.action&&e.stopPropagation()},L.prototype.onTilePointerover=function(){this.renderWithState(A.hover)},L.prototype.onTilePointerleave=function(){this.renderWithState(A.default)},L.prototype.onTilePointerdown=function(){this.renderWithState(A.selected)},L.prototype.onTilePointerup=function(){this.renderWithState(A.hover)},L.prototype.renderWithState=function(t){return __awaiter(this,void 0,powerbi.Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.isEnabled?(this.state=t,this.updateShape(),[4,this.renderWithoutLifecycleEvents()]):[3,2];case 1:e.sent(),this.renderContent(),e.label=2;case 2:return[2]}})})};var F,j=L;function L(e){var t=F.call(this)||this;return t.hostServices=e,t}}),define("BasicShapeVisual/basicShape",["require","exports","BasicShapeVisual/basicShapeUtils"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BasicShape=void 0;var n=powerbi,i=n.visuals,r=i.basicShapeProps,a=i.basicShapeType,l=jsCommon.BrowserUtils,s=i.ColorHelper,u=n.DataViewObjects,c=i.ForegroundColorName,h=n.visuals.InteractivityUtils,p=powerbi.visuals.visualLocKeys,g=a.rectangle,d="backgroundLight";function f(){}Object.defineProperty(f.prototype,"shapeType",{get:function(){return this.data.shapeType},set:function(e){this.data.shapeType=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"lineColor",{get:function(){return this.data?this.data.lineColor:s.getDataColorByIndex(this.style,0,c)},set:function(e){this.data.lineColor=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"lineTransparency",{get:function(){return this.data?this.data.lineTransparency:0},set:function(e){this.data.lineTransparency=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"lineWeight",{get:function(){return this.data?this.data.lineWeight:3},set:function(e){this.data.lineWeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"roundEdge",{get:function(){return this.data?this.data.roundEdge:0},set:function(e){this.data.roundEdge=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showFill",{get:function(){return!this.data||this.data.showFill},set:function(e){this.data.showFill=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fillColor",{get:function(){return this.data?this.data.fillColor:s.getThemeColor(this.style,d)},set:function(e){this.data.fillColor=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"shapeTransparency",{get:function(){return this.data?this.data.shapeTransparency:0},set:function(e){this.data.shapeTransparency=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"angle",{get:function(){return this.data?this.data.angle:0},set:function(e){this.data.angle=this.scaleTo360Deg(e)},enumerable:!1,configurable:!0}),f.prototype.init=function(e){this.element=e.element,this.selection=d3.select(this.element[0]),this.currentViewport=e.viewport,this.hostServices=e.host,this.style=e.style},f.prototype.update=function(e){this.currentViewport=e.viewport;var t=e.dataViews;_.isEmpty(t)||(t=e.dataViews[0]).metadata&&t.metadata.objects&&(t=e.dataViews[0].metadata.objects,this.data=this.getDataFromDataView(t),this.render())},f.prototype.getDataFromDataView=function(e){var t,n;return e?(n=u.getValue(e,r.general.shapeType,g),t=this.getDefaultsForShape(n),{shapeType:n,lineColor:(n=s.create(this.style)).getColorForPropertyWithDefaultColor(e,r.line.lineColor,t.lineColor),lineTransparency:u.getValue(e,r.line.transparency,t.lineTransparency),lineWeight:u.getValue(e,r.line.weight,t.lineWeight),roundEdge:u.getValue(e,r.line.roundEdge,t.roundEdge),shapeTransparency:u.getValue(e,r.fill.transparency,t.shapeTransparency),fillColor:n.getColorForProperty(e,r.fill.fillColor,d),showFill:u.getValue(e,r.fill.show,t.showFill),angle:this.scaleTo360Deg(u.getValue(e,r.rotation.angle,t.angle))}):null},f.prototype.scaleTo360Deg=function(e){return e=0!==e&&Math.abs(e)%360==0?e:((e%=360)+360)%360},f.prototype.enumerateObjectInstances=function(e){var t=[];if(!this.data)return t;switch(e.objectName){case"line":var n={selector:null,properties:{lineColor:this.lineColor,transparency:this.lineTransparency,weight:this.lineWeight},objectName:e.objectName};return this.shapeType===a.rectangle&&(n.properties.roundEdge=this.roundEdge,n.validValues={roundEdge:{unitSymbol:p.PixelUnitSymbol,numberRange:{min:0,max:100}}}),t.push(n),t;case"fill":return this.shapeType!==a.line&&t.push({selector:null,properties:{show:this.showFill,fillColor:this.fillColor,transparency:this.shapeTransparency},objectName:e.objectName}),t;case"rotation":return t.push({selector:null,properties:{angle:this.angle},objectName:e.objectName}),t}return null},f.prototype.onViewModeChanged=function(e){this.updateVisualLinkProps()},f.prototype.render=function(){var n=this;switch(this.selection.html(""),this.shapeType){case a.rectangle:o.createRectangle(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle);break;case a.oval:o.createOval(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle);break;case a.line:o.createLine(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle);break;case a.arrow:o.createUpArrow(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle);break;case a.triangle:o.createTriangle(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle);break;case a.arrowButton:o.createArrowButton(this.data,this.currentViewport.height,this.currentViewport.width,this.selection,this.angle)}this.selection.on("click",function(){var e=d3.event,t={type:0,visualObjects:[{objectName:"basicShape",selectorsByColumn:{}}],isCtrlOrMetaKey:l.isCtrlOrMeta(e),isShiftKey:e.shiftKey,position:h.getPositionOfLastInputEvent()};n.hostServices.onSelecting(t),1===t.action&&e.stopPropagation()}),this.updateVisualLinkProps(),o.setShapeAriaMetadata(this.shapeType,this.hostServices)},f.prototype.updateVisualLinkProps=function(){var e=this.hostServices.getVisualLinkProperties();e&&this.selection.style("cursor",e.hasVisualLink?"pointer":"inherit")},f.prototype.getDefaultsForShape=function(e){var t={angle:0,fillColor:s.getThemeColor(this.style,d),lineColor:s.getDataColorByIndex(this.style,0,c),lineTransparency:0,lineWeight:3,roundEdge:0,shapeTransparency:0,shapeType:g,showFill:!0};return e===a.arrowButton?((e=_.clone(t)).lineWeight=0,e):t},t.BasicShape=f}),define("BasicShapeVisual/basicShapeUtils",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setShapeAriaMetadata=t.getArrowMiterPaddingY=t.getArrowMiterPaddingX=t.createArrowButton=t.createTriangle=t.createUpArrow=t.createLine=t.createOval=t.createRectangle=void 0;function c(e,t,n,o,i,r,a){a={transform:"translate("+(a?a.translateX:0)+","+(a?a.translateY:0)+")",d:d3.line().x(function(e){return e.x}).y(function(e){return e.y}).curve(d3.curveLinear)(t)+" Z"};h(e,u(o,i,n,r,p(i,o,r)),"path",a)}function u(e,t,n,o,i){return n.append("div").styles({transform:"rotate("+o+"deg) scale("+i+")","transform-origin":"center","-webkit-transform":"rotate("+o+"deg) scale("+i+")","-webkit-transform-origin":"center",width:t+"px",height:e+"px"}).append("svg").attrs({width:t,height:e})}function h(e,t,n,o){t.append(n).attrs(o).styles({"vector-effect":"non-scaling-stroke","stroke-width":e.lineWeight+"px",stroke:e.lineColor,"stroke-opacity":(100-e.lineTransparency)/100,fill:e.fillColor,"fill-opacity":!0===e.showFill?(100-e.shapeTransparency)/100:0})}function p(e,t,n){var o=e,i=t,r=Math.atan2(t,e),a=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),l=n/180*Math.PI;return t<=e?(n<90||!(n<180)&&n<270?l+=r:l-=r,i/Math.abs(Math.sin(l))/a):(n<90||!(n<180)&&n<270?l-=r:l+=r,o/Math.abs(Math.cos(l))/a)}function g(e,t,n){e=i(e,t),t=e.deltaX,e=e.deltaY,e=Math.atan(e/t),t=Math.PI-e;return Math.sin(t/2)*n/Math.sin(e/2)}function d(e,t,n){var e=i(e,t),t=e.deltaX,e=e.deltaY,t=2*Math.atan(t/e),e=Math.PI-t,o=Math.sin(e/2)*n,e=Math.cos(e/2)*n;return o/Math.tan(t/2)+e+5}function i(e,t){return{deltaX:.5*e-.05*e,deltaY:.42*t-.016*t}}t.createRectangle=function(e,t,n,o,i){var r=.01*n+e.lineWeight/2,a=.01*t+e.lineWeight/2,l=.98*n-e.lineWeight,s=.98*t-e.lineWeight,r={x:r,y:a,width:l,height:s,rx:e.roundEdge,ry:e.roundEdge};h(e,u(t,n,o,i,p(l,s,i)),"rect",r)},t.createOval=function(e,t,n,o,i){var r={cx:(n/2).toString(),cy:(t/2).toString(),rx:n/2.2-e.lineWeight,ry:t/2.2-e.lineWeight};h(e,u(t,n,o,i,p(n,t,i)),"ellipse",r)},t.createLine=function(e,t,n,o,i){var r,a,l,s,u,c=n-10-10,h=t-10-10;i<=45?(r=n/2+c*(u=i/90),l=n/2-c*u,s=t-(a=10)):i<=135?(r=n-10,a=10+h*(u=(i-45)/90),s=t-(l=10)-h*u):i<=225?(r=n-10-c*(u=(i-135)/90),a=t-10,l=10+c*u,s=10):i<=315?(a=t-(r=10)-h*(u=(i-225)/90),l=n-10,s=10+h*u):i<=360&&(r=10+c*(u=(i-315)/90),l=n-(a=10)-c*u,s=t-10),o.append("svg").attrs({width:n,height:t}).append("line").attrs({x1:r,y1:a,x2:l,y2:s}).styles({"vector-effect":"non-scaling-stroke","stroke-width":e.lineWeight+"px","stroke-opacity":(100-e.lineTransparency)/100,stroke:e.lineColor})},t.createUpArrow=function(e,t,n,o,i){var r=e.lineWeight,a=g(n,t,r),r=d(n,t,r),l=n-a,s=t-r;c(e,[{x:.05*l,y:.42*s},{x:.5*l,y:.016*s},{x:.95*l,y:.42*s},{x:.764*l,y:.42*s},{x:.764*l,y:.993*s},{x:.246*l,y:.993*s},{x:.246*l,y:.42*s}],o,t,n,i,{translateX:a/2,translateY:r/2})},t.createTriangle=function(e,t,n,o,i){var r=e.lineWeight,a=(3<r&&(r-=3),.15*(n-r)),l=.15*(t-r),s=.85*(n-r)<0?.85*n:.85*(n-r),u=(a+s)/2;c(e,[{x:a=a<10?10:a,y:t-10-r<0?t-10:t-10-r},{x:u,y:l=l<10?10:l},{x:s,y:t-10-r<0?t-10:t-r-10}],o,t,n,i,{translateX:r/2,translateY:r/2})},t.createArrowButton=function(e,t,n,o,i){(o=u(t,n,o,i,p(n,t,i))).attr("viewBox","5 5 26 26"),h(e,o,"path",{d:"M30,18.1c0,1.1-0.1,2.2-0.4,3.2s-0.7,2-1.2,2.9s-1.1,1.7-1.9,2.4S24.9,28,24,28.5s-1.8,0.9-2.9,1.2s-2.1,0.4-3.2,0.4 s-2.2-0.1-3.2-0.4s-2-0.7-2.9-1.2s-1.7-1.1-2.4-1.9s-1.4-1.5-1.9-2.4s-0.9-1.8-1.2-2.9S6,19.2,6,18.1s0.1-2.2,0.4-3.2 s0.7-2,1.2-2.9s1.1-1.7,1.9-2.4s1.5-1.4,2.4-1.9s1.8-0.9,2.9-1.2s2.1-0.4,3.2-0.4c1.1,0,2.2,0.1,3.2,0.4s2,0.7,2.9,1.2 s1.7,1.1,2.4,1.9s1.4,1.5,1.9,2.4s0.9,1.8,1.2,2.9S30,17,30,18.1z M7.5,18.1c0,1,0.1,1.9,0.4,2.8s0.6,1.7,1.1,2.5s1,1.5,1.6,2.1 s1.3,1.2,2.1,1.6s1.6,0.8,2.5,1.1s1.8,0.4,2.8,0.4c1,0,1.9-0.1,2.8-0.4s1.7-0.6,2.5-1.1s1.5-1,2.1-1.6s1.2-1.3,1.6-2.1 s0.8-1.6,1.1-2.5s0.4-1.8,0.4-2.8s-0.1-1.9-0.4-2.8s-0.6-1.7-1.1-2.5s-1-1.5-1.6-2.1S24,9.5,23.3,9S21.6,8.2,20.8,8 S18.9,7.6,18,7.6S16.1,7.7,15.2,8S13.5,8.6,12.7,9s-1.5,1-2.1,1.6S9.4,12,8.9,12.8s-0.8,1.6-1.1,2.5S7.5,17.1,7.5,18.1z M19.2,24.3 l-1.1,1.1l-7.3-7.3l7.3-7.3l1.1,1.1l-5.5,5.5l11.7,0v1.5l-11.7,0L19.2,24.3z"})},t.getArrowMiterPaddingX=g,t.getArrowMiterPaddingY=d;t.setShapeAriaMetadata=function(t,e){var n,o=powerbi.visuals.basicShapeType.type.members().filter(function(e){return e.value===t});0<o.length&&(n=o[0].displayName),e.setAriaMetadata({subtitleDisplayNameGetter:n})}}),define("BasicShapeVisual/actionButtonUtils",["require","exports","BasicShapeVisual/actionButton"],function(e,t,u){Object.defineProperty(t,"__esModule",{value:!0}),t.styleVisualLink=t.renderLegacyButton=void 0;var c=powerbi.visuals.ActionButtonType,l=jsCommon.BrowserUtils,n=jsCommon.Color,h=powerbi.visuals.FontProperties,s=powerbi.visuals.horizontalAlignment,p=powerbi.visuals.InteractivityUtils,g=powerbi.visuals.SVGUtil,d=powerbi.TextMeasurementService,f=powerbi.visuals.verticalAlignment,y='<svg viewBox="0 0 32 32"><line x1="30" y1="15" x2="2" y2="15"></line><polyline points="15,2 2,15 15,30"></polyline></svg>',v='<svg viewBox="0 0 32 32"><line x1="2" y1="15" x2="30" y2="15"></line><polyline points="17,2 30,15 17,30"></polyline></svg>',b='<svg viewBox="0 0 24 22.75"><polygon points="22.5 15.5 10.5 15.5 5.5 20.55 5.43 15.5 1.5 15.5 1.5 1.5 22.5 1.5 22.5 15.5"></polygon></svg>',m='<svg viewBox="0 0 32 32"><circle cx="16" cy="16" r="13.5"></circle><path d="M12.12,13.72a3.75,3.75,0,0,1,3.63-3.78,3.63,3.63,0,0,1,3.64,3.63c0,1.48-.5,1.93-2.35,3.63A4.48,4.48,0,0,0,15.8,19a3.45,3.45,0,0,0-.11.4A8.59,8.59,0,0,0,15.5,21"></path><rect x="15.51" y="23.54" width="0.01" height="0.01"></rect></svg>',w='<svg viewBox="0 0 23.5 32"><path d="M11.76,29.5c-1.95,0-4-.65-4-1.95v-5s0-1.09,0-1.45c-.08-1-1.52-2.48-2.59-3.89a12,12,0,0,1-1.62-2.6,9.45,9.45,0,0,1-.62-3.63c0-4.66,4.23-8.44,8.89-8.44s8.89,3.78,8.89,8.44a9.41,9.41,0,0,1-.58,3.55,12.34,12.34,0,0,1-1.67,2.68c-1.06,1.4-2.47,2.86-2.55,3.89,0,.36-.07,1.45-.07,1.45v5C15.78,28.85,13.71,29.5,11.76,29.5Z"></path><line x1="7.75" y1="23.92" x2="15.8" y2="23.92"></line></svg>',S='<svg viewBox="0 0 32 32"><circle cx="16" cy="16" r="13.5"></circle><line x1="25" y1="16" x2="8" y2="16"></line><polyline points="16,8 8,16 16,24"></polyline></svg>',C='<svg viewBox="0 0 22.59 32"><polygon points="20.04 29.25 11.21 25.43 2.37 29.25 2.37 2.5 20.04 2.5 20.04 29.25"></polygon></svg>',B='<svg viewBox="0 0 32 32"><circle cx="16" cy="16" r="13.5"></circle><rect x="16" y="10.24" width="0.01" height="0.01"></rect><line x1="16" y1="13.1" x2="16" y2="22.9"></line></svg>',T='<svg viewBox="0 0 28.3 32"><line x1="17.2" y1="9.9" x2="2.5" y2="9.9"></line><polyline points="10.2,2.3 2.5,9.9 10.2,17.5"></polyline><g><defs><rect id="SVGID_1_" x="16.1" y="0" width="18" height="32"></rect></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible;"></use></clipPath><path d="M13.1,9.9h4c4.8,0,8.7,3.8,8.7,9.4s-3.7,9.9-8.3,10.2h-2.4"></path></g></svg>',x='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M12.002 19.0039H0.996094V0.996094H19.0039V9.00391H17.998V5H2.00195V17.998H12.002V19.0039ZM2.00195 4.00391H17.998V2.00195H2.00195V4.00391Z" fill="#424242"/> <path d="M7.99805 7.00195V10.9961H4.00391V7.00195H7.99805ZM7.00195 7.99805H5V10H7.00195V7.99805ZM7.99805 12.002V15.9961H4.00391V12.002H7.99805ZM7.00195 12.998H5V15H7.00195V12.998Z" fill="#424242"/> <path d="M20 10V12.5L17.002 15V20H12.998V15L10 12.5V10H20ZM19.0039 10.9961H10.9961V12.0312L14.0039 14.5312V19.0039H15.9961V14.5312L19.0039 12.0312V10.9961Z" /></svg>',A='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.44531 12.5781L5.05859 9.0625L10.9863 14.7363L7.30469 18.3789L1.44531 12.5781Z" fill="#999999"/> <path d="M19.0723 7.25586L7.24609 19.0039L0.800781 12.6758L12.8125 0.664062L19.0723 7.25586ZM12.8125 1.8457L5.5957 9.07227L10.9375 14.1895L17.8906 7.25586L12.8125 1.8457ZM10.3516 14.7754L5 9.6582L1.98242 12.6758L7.23633 17.8809L10.3516 14.7754Z" fill="#424242"/></svg>';function P(e,t){t=t.getVisualLinkProperties();e&&t&&e.style("cursor",t.hasVisualLink?"pointer":"inherit")}function V(e,t,n,o,i){o.styles({width:n.width+"px",height:n.height+"px",overflow:"hidden",position:"relative",display:"block","background-color":e.fill[t].show?M(e.fill[t].fillColor,e.fill[t].fillTransparency):"transparent","border-radius":e.outline[t].roundEdge?e.outline[t].roundEdge+"px":null});var r,a,l,s,i=i.children("button");powerbi.visuals.visualBackgroundHelper.renderBackgroundImage({image:e.fill[t].show?e.fill[t].image:void 0,transparency:e.fill[t].fillTransparency},i,{left:0,top:0,width:n.width,height:n.height}),i.children(".background-image").css({left:0,top:0,"pointer-events":"none"}),i=e.outline[t],r=n,a=i.show?i.outlineWeight:0,o.select(u.ButtonOutlineSelector.selector).styles({"pointer-events":"none",top:0,left:0,position:"absolute",width:Math.max(r.width-2*a,0)+"px",height:Math.max(r.height-2*a,0)+"px",border:i.show?function(e,t,n){return"".concat(e,"px solid ").concat(M(t,n))}(i.outlineWeight,i.outlineColor,i.outlineTransparency):"none","border-radius":i.roundEdge?i.roundEdge+"px":null}),r=e.text[t],a=n,i=o,l=Math.max(a.width-2*r.padding,0),(i=i.select(u.ButtonTextSelector.selector)).text(r.show?r.text:void 0).styles({"text-align":r.horizontalAlignment,"max-width":l+"px","pointer-events":"none"}).styles(h.toHTMLStyle(r.fontProperties)),s=d.measureSvgTextRect(h.toTextProperties(r.fontProperties,r.text)),l=s.width>l?l:s.width,D(i,r,a,l,s.height),i=e.icon[t],r=n,a=o,l=function(e){switch(e){case c.leftArrow:return y;case c.rightArrow:return v;case c.back:return S;case c.reset:return T;case c.information:return B;case c.help:return m;case c.qna:return b;case c.insights:return w;case c.bookmarks:return C;case c.blank:case c.custom:return;case c.applyAllSlicers:return x;case c.clearAllSlicers:return A}}(i.shapeType),a=a.select(u.ButtonIconSelector.selector),s=Math.max(Math.min(r.width,r.height)-2*i.padding,0),l=i.show&&l?l:null,a.html(l),l&&(l=a.select("svg").attrs({width:s,height:s}).styles({fill:"none","pointer-events":"none"}),a=g.scaleStroke(l.attr("viewBox"),s,i.lineWeight),l.selectAll("*").styles({"vector-effect":"non-scaling-stroke","stroke-width":a+"px",stroke:i.lineColor,"stroke-opacity":(100-i.lineTransparency)/100}),D(l,i,r,s,s))}function D(e,t,n,o,i){e.style("position","absolute");var r=n.width/2,a=t.padding+o/2,l=t.horizontalAlignment;switch(l=r<a?s.center:l){case s.left:e.styles({left:t.padding+"px",right:null});break;case s.right:e.styles({right:t.padding+"px",left:null});break;case s.center:e.styles({left:n.width/2-o/2+"px",right:null})}r=n.height/2,a=t.padding+i/2,l=t.verticalAlignment;switch(l=r<a?f.middle:l){case f.top:e.styles({top:t.padding+"px",bottom:null});break;case f.bottom:e.styles({bottom:t.padding+"px",top:null});break;case f.middle:e.styles({top:n.height/2-i/2+"px",bottom:null})}}function M(e,t){e=n.parseColorString(e);return n.rgbString(n.setOpacity(e,(100-t)/100))}t.renderLegacyButton=function(n,o,i,r,a){return __awaiter(this,void 0,powerbi.Promise,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,r.isVisualEnabled()];case 1:return t=e.sent(),i.on("click",function(){var e={type:0,visualObjects:[{objectName:"button",selectorsByColumn:{}}],isCtrlOrMetaKey:l.isCtrlOrMeta(d3.event),position:p.getPositionOfLastInputEvent()};r.onSelecting(e),1===e.action&&d3.event.stopPropagation()}),t?(i.on("pointerover",function(){V(n,"hover",o,i,a)}).on("pointerdown",function(){V(n,"selected",o,i,a)}).on("pointerup",function(){V(n,"hover",o,i,a)}).on("pointerleave",function(){V(n,"default",o,i,a)}),V(n,"default",o,i,a)):(i.on("pointerover",null).on("pointerdown",null).on("pointerup",null).on("pointerleave",null),V(n,"disabled",o,i,a)),P(i,r),[2]}})})},t.styleVisualLink=P}),function(e){(e=(e=e.powerbi||(e.powerbi={})).visuals||(e.visuals={})).importActionButtonShapeModule=function(){},e.importBasicShapeModule=function(){}}(es6=es6||{}),function(e){var t;(t=e.visuals||(e.visuals={})).initializeBasicShapesFactoryES6=function(){t.setCreateActionButton(function(){return es6.powerbi.visuals.importActionButtonShapeModule().then(function(e){return new e.ActionButton})}),t.setCreateBasicShape(function(){return es6.powerbi.visuals.importBasicShapeModule().then(function(e){return new e.BasicShape})})}}(powerbi=powerbi||{});
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['basicShapeVisual.min.js'] || (this.parseTimeMarkers['basicShapeVisual.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
